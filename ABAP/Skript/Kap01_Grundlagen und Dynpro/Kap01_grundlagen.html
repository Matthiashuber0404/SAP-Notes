<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content=":email:heidi.koeckeis@dvschule-plattling.de">
<title>ABAP: Wiederholung und Vertiefung</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>ABAP: Wiederholung und Vertiefung</h1>
<div class="details">
<span id="author" class="author">Heidi Köckeis</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_konventionen">1. Konventionen</a>
<ul class="sectlevel2">
<li><a href="#_programmierrichtlinien">1.1. Programmierrichtlinien</a></li>
<li><a href="#_namenskonventionen">1.2. Namenskonventionen</a></li>
</ul>
</li>
<li><a href="#_data_dictionary">2. Data Dictionary</a>
<ul class="sectlevel2">
<li><a href="#_tabellen">2.1. Tabellen</a></li>
<li><a href="#_view">2.2. View</a></li>
<li><a href="#_datentypen">2.3. Datentypen</a></li>
<li><a href="#_suchhilfen">2.4. Suchhilfen</a></li>
<li><a href="#_sperrobjekte">2.5. Sperrobjekte</a></li>
</ul>
</li>
<li><a href="#_datenbankzugriff">3. Datenbankzugriff</a>
<ul class="sectlevel2">
<li><a href="#_select">3.1. SELECT</a></li>
<li><a href="#_einfügen_von_datensätzen">3.2. Einfügen von Datensätzen</a></li>
<li><a href="#_ändern_von_datensätzen">3.3. Ändern von Datensätzen</a></li>
<li><a href="#_löschen_von_datensätzen">3.4. Löschen von Datensätzen</a></li>
</ul>
</li>
<li><a href="#_funktionsbausteine">4. Funktionsbausteine</a>
<ul class="sectlevel2">
<li><a href="#_anlegen">4.1. Anlegen</a></li>
<li><a href="#_aufruf_eines_funktionsbausteins">4.2. Aufruf eines Funktionsbausteins</a></li>
<li><a href="#_eintragen_einer_exception">4.3. Eintragen einer Exception</a></li>
<li><a href="#_abfragen_einer_exception">4.4. Abfragen einer Exception</a></li>
</ul>
</li>
<li><a href="#_interne_tabellen">5. Interne Tabellen</a>
<ul class="sectlevel2">
<li><a href="#_definition">5.1. Definition</a></li>
<li><a href="#_initialisierung">5.2. Initialisierung</a></li>
<li><a href="#_verwendung_bei_db_tabellen">5.3. Verwendung bei DB-Tabellen</a></li>
<li><a href="#_sortieren">5.4. Sortieren</a></li>
<li><a href="#_bearbeiten_der_internen_tabelle">5.5. Bearbeiten der internen Tabelle</a></li>
<li><a href="#_komplettes_beispiel">5.6. Komplettes Beispiel</a></li>
</ul>
</li>
<li><a href="#_feldsymbole">6. Feldsymbole</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_konventionen">1. Konventionen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_programmierrichtlinien">1.1. Programmierrichtlinien</h3>
<div class="paragraph">
<p>Eine Programmierrichtlinie geht deutlich über eine reine Namenskonvention hinaus.
Auch Regeln zum Programmaufbau, zur Modularisierung, zur Nichtverwendung gewisser
Sprachelemente und anderes gehören zu einer Programmierrichtlinie.
Im Endeffekt erzeugen sie einen einheitlichen Programmierstil. Und genau das ist das Ziel.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>es wird international, d.h englischsprachig programmiert und im Programm dokumentiert</p>
<div class="literalblock">
<div class="content">
<pre>nur englischsprachige Variablennamen erzeugen
nur englischsprachige Routinen, Funktionsbausteine etc. erzeugen</pre>
</div>
</div>
</li>
<li>
<p>natürlich den neuen Frontend-ABAP-Editor verwenden, Einstellung:</p>
<div class="literalblock">
<div class="content">
<pre>alle Syntaxfehler anzeigen
abwärtskompatible Zeilenlänge (wenn möglich)</pre>
</div>
</div>
</li>
<li>
<p>Pretty Printer konsequent verwenden. Einstellung:</p>
<div class="literalblock">
<div class="content">
<pre>Einrücken verwenden
keinen Standardkommentar einfügen
Groß-Kleinkonvertierung für Schlüsselwörter groß verwenden</pre>
</div>
</div>
</li>
<li>
<p>erweiterte Programmprüfung (es muss alles komplett grün sein)</p>
</li>
<li>
<p>Code-Inspektor verwenden</p>
</li>
<li>
<p>pro Codingzeile nur eine Anweisung</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_namenskonventionen">1.2. Namenskonventionen</h3>
<div class="paragraph">
<p>Namenskonventionen beschreiben die einheitliche und verbindliche Vorgabe zur Benennung von Softwareobjekten bzw. zur Benennung von Objekten im Quellcode.</p>
</div>
<div class="paragraph">
<p>Bestandteile werden durch Unterstrich getrennt, sprechende Namen verwenden:</p>
</div>
<div class="listingblock">
<div class="title">Allgemeine Namensgebung</div>
<div class="content">
<pre class="highlight"><code>cl_ = Klassen, z.B. cl_demo_update
if_ = Interfaces, z.B. if_demo_update
is_ = Wahrheitswert, z.B. is_checked
on_ = Ereignisbehandler, z.B. on_button_klicked
get_ = Methoden mit Rückgabewert, z.B. get_max_count
do_ = auszuführende Methode, z.B. do_this_work
set_ = auszuführende Methode, z.B. set_this_value
cx_ = Ausnahmemethode, z.B. cx_value_not_allowed</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Programminterne Namensgebung</div>
<div class="content">
<pre class="highlight"><code>g_ = globales Datenobjekt, z.B. g_dataobject
l_ = lokales Datenobjekt, z.B. l_dataobject
i_ = Importing-Parameter, z.B. i_vebln
e_ = Exporting-Parameter, z.B. e_vbeln
c_ = Changing-Parameter, z.B. c_count
r_ = Returning-Parameter, z.B. r_value</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Datentypen Namensgebung</div>
<div class="content">
<pre class="highlight"><code>s = Strukturen. z.B. gs_structure (globale Struktur structure)
t = Tabelle, z.B. lt_return (lokale Tabelle für Return-Werte
n = nummerische Variablen
v = sonstige Variablen (z.B. char- oder string-Variablen), z.B. lv_help (lokale Variable help)
e (elementar) oder f (field)
r = Datenreferenzvariablen
o = Klassenreferenzvariablen
i = Interface-Referenzvariablen
b = BADI-Referenzvariablen (BADI= Business Add-In, Erweiterungen)
x = Ausnahmeklassen-Referenzvariablen</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Kommentare</div>
<p>Kommentare sollen viel und reichlich verwendet werden!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>* am Beginn jeden größeren Abschnittes
" z.B. an einem Endif: endif. " sy-subrc = 0. ' select mara
Kommentare sollten natürlich auch in Englisch sein
7-bit ASCII-Zeichen verwenden, also z.B. keine Umlaute
kein Sprachmischmatsch
beschreiben warum etwas gemacht wird, nicht wie
es kann nicht zu viel kommentiert werden!
Kommentare vor Kontrollanweisungen (z.B. vor if / when) beziehen sich auf die Bedingung
Kommentare nach Kontrollanweisungen (z.B. nach if, else) beziehen sich auf den jeweiligen Block
Kommentarzeilen genauso tief einrücken wie die Anweisungen auf die sie sich beziehen</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_data_dictionary">2. Data Dictionary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Das Data Dictionary (Datenwörterbuch, DDIC) ist das zentrale Werkzeug zur Daten-Definition, insbes. auch zur Definition von Datenbanktabellen</p>
</div>
<div class="paragraph">
<p><strong>Das DDIC verwaltet nur Definitionen und hält keine Datensätze. Diese befinden sich auf der echten Datenbank.</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="AbapImages/ddic.png" alt="Einstieg DDIC">
</div>
</div>
<div class="sect2">
<h3 id="_tabellen">2.1. Tabellen</h3>
<div class="paragraph">
<p>Es gibt drei Arten von Tabellen:
transparente, Pool- und Clustertabellen.</p>
</div>
<div class="paragraph">
<p>Transparente Tabellen sind am gebräuchlichsten und enthalten Anwendungsdaten.
Pool- und Clustertabellen werden von SAP hauptsächlich für Systemdaten verwendet.</p>
</div>
<div class="paragraph">
<p>Eine Tabelle ist ein reales Objekt auf der Datenbank.</p>
</div>
<div class="sect3">
<h4 id="_datenelemente_und_domänen">2.1.1. Datenelemente und Domänen</h4>
<div class="paragraph">
<p>Eine Datenbanktabelle besteht aus verschiedenen Feldern.
Ein Feld ist zusammengesetzt aus einem <strong>Datenelement</strong> (enthält Feldbezeichnungen usw.) und braucht eine <strong>Domäne</strong>. Diese beschreibt die technischen Charakteristika, z.B. Datentypen und –längen.</p>
</div>
</div>
<div class="sect3">
<h4 id="_währungs_und_mengenfelder">2.1.2. Währungs- und Mengenfelder</h4>
<div class="paragraph">
<p>Spezielle Beachtung verdienen <strong>Währungs- und Mengenfelder</strong> (die Typen CURR und QUAN nehmen Bezug auf die DB-Tabellen TCURC und T006).</p>
</div>
</div>
<div class="sect3">
<h4 id="_erzeugung_einer_tabelle">2.1.3. Erzeugung einer Tabelle</h4>
<div class="paragraph">
<p>Nach Bereitstellung aller erforderlichen Datenelemente und Domänen kann eine Tabelle erzeugt werden. Beachten Sie dabei, dass DDIC-Objekte aktiv sein müssen, bevor man sie verwendet. Reaktivierung bei Veränderung erforderlich!!</p>
</div>
<div class="paragraph">
<p>Zunächst müssen die allgemeinen Attribute und die Struktur der Tabelle definiert werden, einschließlich MANDT und Primärschlüssel.
Nach Aktivieren müssen noch die technischen Einstellungen der Tabelle gesetzt werden.</p>
</div>
</div>
<div class="sect3">
<h4 id="_anzeigen_tabelleninhalt">2.1.4. Anzeigen Tabelleninhalt</h4>
<div class="paragraph">
<p>Mit dem <strong>DATA BROWSER</strong> (SE16) können Tabellendaten angezeigt und modifiziert werden.
Eine weitere Möglichkeit ist Transaktion N (SE16N = <strong>Allgemeine Tabellenanzeige</strong>)</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_view">2.2. View</h3>
<div class="paragraph">
<p>Ein Datenbank-View stellt eine „virtuelle Datenbanktabelle“ dar, die selbst keine Datensätze enthält, sondern ihre Datensätze aus den zugrundeliegenden Datenbanktabellen bezieht.</p>
</div>
<div class="paragraph">
<p>Die Felder dieser Datensätze können aus mehreren Tabellen stammen. Die Zuordnung der Datensätze wird durch die Primär-/Fremdschlüsselbeziehungen festgelegt.</p>
</div>
<div class="paragraph">
<p>Die Zuordnung der Datensätze und die Feldauswahl bei der View ist als eigenständiges DDIC-Objekt festgelegt und in allen Programm Ihres ERP-Systems verfügbar.</p>
</div>
</div>
<div class="sect2">
<h3 id="_datentypen">2.3. Datentypen</h3>
<div class="paragraph">
<p>Datentypen sind erreichbar über <em>Datentyp</em>. Hier können Datenelemente, Strukturen und Tabellentypen angelegt werden.</p>
</div>
<div class="paragraph">
<p>Im <strong>Datenelement</strong> werden <strong>semantische Eigenschaften</strong> gespeichert.<br>
Zum Einen wird die Domäne (technische Eigenschaft = Typ und Länge) angegeben.<br>
Außerdem werden die Feldbezeichner hinterlegt.<br>
Sie können u.a. F1-Hilfe anlegen, indem Sie auf die Schaltfläche Dokumentation drücken. Innerhalb dieser Hilfe können Sie Hypertexte zu anderen Hilfedokumenten anlegen.</p>
</div>
<div class="paragraph">
<p>Der Punkt <em>Datentyp</em> erlaubt auch die Definition einer <strong>Struktur</strong>. Diese kann dann z.B. über <strong>Include</strong> in eine andere Struktur oder Datenbanktabelle eingefügt werden oder Grundlage eines <strong>Tabellentyps</strong> sein.</p>
</div>
</div>
<div class="sect2">
<h3 id="_suchhilfen">2.4. Suchhilfen</h3>
<div class="paragraph">
<p>Suchhilfen werden im Dictionary mit Strukturkomponenten, Datenelementen, Prüftabellen sowie mit Dynprofeldern (im Screen Painter) verknüpft und erleichtern die Eingabe von Werten, indem nur zulässige Daten in einem eigenen Fenster angezeigt werden, von denen man einen auswählen kann.</p>
</div>
</div>
<div class="sect2">
<h3 id="_sperrobjekte">2.5. Sperrobjekte</h3>
<div class="paragraph">
<p>Während ein ABAP-Programm Änderungen auf der Datenbank durchführt, muss sichergestellt werden, dass kein zweites ABAP-Programm ändernd auf die gleichen Daten zugreift.</p>
</div>
<div class="paragraph">
<p>Um eine SAP-Sperre zu setzen, muss ein sogenanntes Sperrobjekt angelegt werden.
I.d.R. beginnt ein Sperrobjekt immer mit dem Buchstaben E (gefolgt von Z). Beim Aktivieren eines Sperrobjekts werden automatisch zwei Funktionsbausteine mit den Namen <strong>ENQUEUE_&lt;sperrobjekt&gt;</strong> und <strong>DEQUEUE_&lt;sperrobjekt&gt;</strong> erzeugt.</p>
</div>
<div class="paragraph">
<p>Wenn diese Funktionsbausteine aufgerufen werden, setzen bzw. löschen Sie eine SAP-Sperre für alle im Sperrobjekt angegebenen Datenbankzeilen.</p>
</div>
<div class="paragraph">
<p>Dieser Sachverhalt wird zu einem späteren Zeitpunkt noch ausführlicher behandelt und getestet.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_datenbankzugriff">3. Datenbankzugriff</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Zugriff mittels der in ABAP integrierten Datenbanksprache <strong>Open-SQL</strong> auf die Datenbanktabellen.</p>
</div>
<div class="sect2">
<h3 id="_select">3.1. SELECT</h3>
<div class="paragraph">
<p>Für die Performance Ihres Programms ist es sehr viel besser, nicht mit dem * (alle Felder) zu arbeiten, sondern nur mit einer Feldleiste.</p>
</div>
<div class="paragraph">
<p>Die Auswahl- oder Sendeleiste enthält alle gewünschten Felder der Datenbank(en).
Für den Ziel- oder Empfangsbereich gibt es verschiedene Möglichkeiten.</p>
</div>
<div class="paragraph">
<p><strong>Möglichkeit 1:</strong> Verwendung einer eigenen Struktur</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  TYPES:BEGIN OF ts_pupil,
          name    TYPE z001_63_pupil-name,
          surname TYPE z001_63_pupil-surname,
        END OF ts_pupil.
  DATA: gt_pupils TYPE TABLE OF ts_pupil.
  SELECT name surname FROM z001_63_pupil
  INTO TABLE gt_pupils.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Möglichkeit 2:</strong> Empfangsfelder werden in Klammer hinter die INTO-Klausel geschrieben (sinnvoll, wenn nur ein Datensatz benötigt wird)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  DATA: gv_name    TYPE z001_63_pupil-name,
        gv_surname TYPE z001_63_pupil-surname.
  SELECT SINGLE name surname
  FROM z001_63_pupil INTO (gv_name, gv_surname)
  WHERE id = 5.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Bei der Anweisung <strong>SELECT SINGLE</strong> handelt es sich nicht um eine SELECT-Schleife, sondern um eine SELECT-Anweisung: Es wird maximal ein Datensatz gefunden. Achten Sie deshalb auf Eindeutigkeit der WHERE-Bedingung!!!</p>
</div>
<div class="paragraph">
<p><strong>Möglichkeit 3:</strong> mit der CORRESPONDING FIELDS -Angabe: nur gleichnamige Feldnamen werden übertragen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  DATA: gt_pup TYPE TABLE OF z001_63_pupil.
  SELECT name surname FROM z001_63_pupil INTO CORRESPONDING FIELDS OF TABLE gt_pup.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Neu*Neu*Neu:</strong></p>
</div>
<div class="paragraph">
<p>Seit dem <strong>neuen System</strong> (NetWeaver ab 7.50) sind auch solche Anweisungen möglich:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SELECT name, surname FROM z001_63_pupil
    INTO TABLE @DATA(gt_pupil).
  LOOP AT gt_pupil ASSIGNING FIELD-SYMBOL(&lt;fs_pupil&gt;).
    WRITE:/ &lt;fs_pupil&gt;-name, &lt;fs_pupil&gt;-surname.
  ENDLOOP.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Erklärung:</strong> Der Strukturtyp muss nicht wie bei Möglichkeit 1 angelegt und eine Variable <strong>vor</strong> der SELECT-Anweisung definiert werden. Die Definition erfolgt innerhalb des SELECT-Statements mit @DATA.
Außerdem können jetzt die Felder der Feldleiste (wie in anderen Sprachen auch) mit einem Komma getrennt werden.</p>
</div>
</div>
<div class="sect2">
<h3 id="_einfügen_von_datensätzen">3.2. Einfügen von Datensätzen</h3>
<div class="paragraph">
<div class="title">Beispiel 1: Es soll ein neuer Schüler eingefügt werden.<br></div>
<p>Der Einfügeprozess geschieht in mehreren Schritten:<br>
1) Neuen Primärschüssel ermitteln (SELECT MAX( &#8230;&#8203; ) FROM..)<br>
2) Strukturkomponenten füllen (gs_p_ins = VALUE ..)<br>
3) SQL-Befehl absetzel (INSERT)<br>
4) Ergebnis prüfen (IF sy-subrc = 0 &#8230;&#8203;)</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  SELECT MAX( id ) FROM z001_63_pupil
    INTO @DATA(ln_id).
  DATA(gs_p_ins) = VALUE z001_63_pupil(
      mandt     = 300
      id        = ln_id + 1
      surname   = 'Prentiss'
      name      = 'Emily'
      zipcode   = 10717
      city      = 'Berlin'
      birthday  = '19900102'
      entrydate = '20190901'
      cid       = 1
      groupno   = 1
  ).
  INSERT z001_63_pupil FROM gs_p_ins.
  IF sy-subrc = 0.
    MESSAGE 'Neuer Schüler eingefügt' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Einfügen aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Beispiel 2: Mehrere Schüler sollen eingefügt werden.</div>
<p>Der Einfügeprozess geschieht wiederum im mehreren Schritten:<br>
1) Definition eines Tabellentyps (mit dem Zusatz WITH NON-UNIQUE KEY..)<br>
2) Übertragen aller Zeilen in die interne Tabelle gt_p_ins<br>
3) Der Einfachkeit halber wurde hier der ID ein fester Wert zugewiesen. Natürlich sollte die ID aber ermittelt werden. Dies müsste aber über eine Methode geschehen (später!).<br>
4) Einfügen geschieht jetzt mittels INSERT &#8230;&#8203; FROM TABLE ..
5) Ergebnis prüfen</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: tt_pupils TYPE TABLE OF z001_63_pupil WITH NON-UNIQUE KEY surname.
  DATA(gt_p_ins) = VALUE tt_pupils(
     ( mandt = 300  id = 22  surname  = 'Morgan' name  = 'Derrik'
       zipcode = 10717  city = 'Berlin'  birthday = '19880505'
       entrydate = '20200901' cid = 2  groupno   = 2 )
     ( mandt = 300  id = 23  surname  = 'Hotch' name  = 'Aaron'
       zipcode = 10717  city = 'Berlin'  birthday = '19851005'
       entrydate = '20180901' cid = 2  groupno   = 1 )
  ).
  INSERT z001_63_pupil FROM TABLE gt_p_ins.
  IF sy-subrc = 0.
    MESSAGE 'Neue Schüler eingefügt' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Einfügen aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_ändern_von_datensätzen">3.3. Ändern von Datensätzen</h3>
<div class="paragraph">
<p><strong>HINWEIS: In der Regel ist es sinnvoll, zuerst den gewünschten Datensatz mit der SELECT-Anweisung zu lesen und anzuzeigen; dann die nötigen Werte ändern.</strong><br>
<strong><em>VORSICHT: Keinesfalls den Primärschlüssel ändern!</em></strong><br>
<strong>Ansonsten geht man analog wie beim Einfügen vor.</strong></p>
</div>
<div class="paragraph">
<div class="title">Aktualisierung eines Datensatzes</div>
<p>1) Komplette Struktur mit den geänderten Daten ermitteln.<br>
2) UPDATE mit dieser Struktur durchführen<br>
3) Erfolgs- oder Misserfolgsmeldung</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(gs_p_upd) = VALUE z001_63_pupil(
      mandt     = 300
      id        = 21
      surname   = 'Prentiss'
      name      = 'Emily'
      zipcode   = 94447
      city      = 'Plattling'
      birthday  = '19900102'
      entrydate = '20190901'
      cid       = 1
      groupno   = 1
  ).
  UPDATE z001_63_pupil from gs_p_upd.
  IF sy-subrc = 0.
    MESSAGE 'Schüler aktualisiert' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Aktualisieren aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Aktualisierung mehrerer Datensätze mit Array</div>
<p>Dies erfolgt analog wie oben. Zusätzlich ist das Schlüsselfeld TABLE nötig.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: tt_pupils TYPE TABLE OF z001_63_pupil WITH NON-UNIQUE KEY surname.
 DATA(gt_p_ins) = VALUE tt_pupils(
     ( mandt = 300  id = 22  surname  = 'Morgan' name  = 'Harry'
       zipcode = 10717  city = 'Berlin'  birthday = '19880505'
       entrydate = '20200901' cid = 2  groupno   = 2 )
     ( mandt = 300  id = 23  surname  = 'Hotchner' name  = 'Aaron'
       zipcode = 10717  city = 'Berlin'  birthday = '19851005'
       entrydate = '20180901' cid = 2  groupno   = 1 )
  ).
  UPDATE z001_63_pupil FROM TABLE gt_p_ins.
  IF sy-subrc = 0.
    MESSAGE 'Schüler aktualisiert' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Aktualisieren aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Aktualisierung mit SET und WHERE</div>
<p><strong><em>VORSICHT: Wenn die WHERE-Anweisung vergessen wird, dann werden alle Sätze in der Datenbanktabelle geändert!</em></strong></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap"> UPDATE z001_63_pupil
  SET   zipcode = 94469
        city    = 'Deggendorf'
  WHERE surname = 'Morgan'.
  IF sy-subrc = 0.
    MESSAGE 'Schüler aktualisiert' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Aktualisieren aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_löschen_von_datensätzen">3.4. Löschen von Datensätzen</h3>
<div class="paragraph">
<p>In der Regel wird man zuerst mit einer SELECT-Anweisung alle Datensätze ausgeben, die gelöscht werden sollen. VOR dem Löschen sollte über eine Sicherheitsabfrage geklärt werden, ob der Datensatz tatsächlich gelöscht werden soll. Dazu können Sie z.B. den FBS POPUP_TO_CONFIRM verwenden. Auch hier muss immer eine Prüfung erfolgen, ob die Aktion erfolgreich war (Meldung!!).</p>
</div>
<div class="listingblock">
<div class="title">Löschen über ein Attribut</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  DELETE FROM z001_63_pupil WHERE id = 20.
  IF sy-subrc = 0.
    MESSAGE 'Schüler gelöscht' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Löschen aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Löschen über eine Struktur</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">  DATA(gs_p_del) = VALUE z001_63_pupil(
      mandt     = 300
      id        = 21
      surname   = 'Prentiss'
      name      = 'Emily'
      zipcode   = 94447
      city      = 'Plattling'
      birthday  = '19900102'
      entrydate = '20190901'
      cid       = 1
      groupno   = 1
  ).
  DELETE z001_63_pupil FROM gs_p_del.
  IF sy-subrc = 0.
    MESSAGE 'Schüler gelöscht' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Löschen aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Löschen über eine interne Tabelle</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: tt_pupils TYPE TABLE OF z001_63_pupil WITH NON-UNIQUE KEY surname.
 DATA(gt_p_del) = VALUE tt_pupils(
     ( mandt = 300  id = 22  surname  = 'Morgan' name  = 'Harry'
       zipcode = 10717  city = 'Berlin'  birthday = '19880505'
       entrydate = '20200901' cid = 2  groupno   = 2 )
     ( mandt = 300  id = 23  surname  = 'Hotchner' name  = 'Aaron'
       zipcode = 10717  city = 'Berlin'  birthday = '19851005'
       entrydate = '20180901' cid = 2  groupno   = 1 )
  ).
  DELETE z001_63_pupil FROM TABLE gt_p_del.
  IF sy-subrc = 0.
    MESSAGE 'Schüler gelöscht' TYPE 'S'.
  ELSE.
    MESSAGE 'Fehler beim Löschen aufgetreten' TYPE 'S' DISPLAY LIKE 'E'.
  ENDIF.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_funktionsbausteine">4. Funktionsbausteine</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ein Funktionsbaustein ist nicht Bestandteil des Programms, sondern er gehört einer Funktionsgruppe an.<br>
Funktionsbausteine werden zur Kapselung bestimmter Funktionalitäten verwendet, z.B. die schreibenden Zugriffe auf Datenbanktabellen. Ein FBS ist ein eigenes Objekt und muss im erlaubten Namensbereich angelegt werden.</p>
</div>
<div class="paragraph">
<p>Verwenden Sie die Transaktion SE37.</p>
</div>
<div class="sect2">
<h3 id="_anlegen">4.1. Anlegen</h3>
<div class="ulist">
<ul>
<li>
<p>Anlegen einer Funktionsgruppe: Repository-Objekte – Funktionsgruppe</p>
</li>
<li>
<p>Funktionsbaustein anlegen</p>
</li>
<li>
<p>Importparameter definieren: Eingabeparameter in den Funktionsbaustein<br>
Exportparameter anlegen: Ausgabe aus dem Funktionsbaustein<br>
Quellcode eingeben, aktivieren (Funktionsgruppe und Funktionsbaustein)</p>
</li>
<li>
<p>Testen mit F8 (Manuelle Eingabe der Importparameter)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_aufruf_eines_funktionsbausteins">4.2. Aufruf eines Funktionsbausteins</h3>
<div class="paragraph">
<p>Da der FBS global ist, kann dieser aus allen Programmen aufgerufen werden.<br>
Im gewünschten Programm, in den er aufgerufen werden soll, ist folgendes durchzuführen:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Definition der Aktualparameter für den FBS</p>
</li>
<li>
<p>Aufruf der Funktion (des Funktionsbausteins):<br></p>
<div class="ulist">
<ul>
<li>
<p>Muster – call function “z_fbs“ oder mit Anfang und Strg+Leer</p>
</li>
<li>
<p>Aktualparameter zuordnen, Dokumentation herausnehmen<br>
<strong><em>Beachten Sie: Die Bedeutung von EXPORTING und IMPORTING ist gegenüber der Schnittstelle vertauscht!</em></strong></p>
</li>
</ul>
</div>
</li>
<li>
<p>Weiterverarbeitung der importierten Werte</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_eintragen_einer_exception">4.3. Eintragen einer Exception</h3>
<div class="ulist">
<ul>
<li>
<p>Gehen Sie in den Funktionsbaustein und wählen Sie das Registerblatt Ausnahmen.</p>
</li>
<li>
<p>Definieren Sie die Ausnahme und vergeben Sie einen geeigneten Namen (z.B. ex_test) und geben Sie dazu einen Kurztext ein.</p>
</li>
<li>
<p>Ändern Sie den Quelltext des Funktionsbausteins ab:<br>
Vor die Berechnung bitte einfügen:</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>IF bedingung.
   RAISE ex_test.
ENDIF.</pre>
</div>
</div>
<div class="paragraph">
<p>Die Anweisung RAISE führt die Exception aus.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Testen Sie den Funktionsbaustein.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_abfragen_einer_exception">4.4. Abfragen einer Exception</h3>
<div class="ulist">
<ul>
<li>
<p>Kopieren Sie erneut das Muster des Funktionsbausteins ins aufrufende Programm. Es werden nun auch die Exceptions übernommen. Sie müssen nur noch entkommentiert werden.</p>
</li>
<li>
<p>Den Rückgabewert der Exception können Sie mit dem Systemfeld sy-subrc abfragen.</p>
</li>
<li>
<p>Programmieren Sie nun nach dem Aufruf der Funktion eine Abfrage, welche den sy-subrc prüft und entsprechende Meldungen ausgibt.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_interne_tabellen">5. Interne Tabellen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_definition">5.1. Definition</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES|DATA lt TYPE|TYPE STANDARD|SORTED|HASHED TABLE
OF dtype|dobj
WITH [NON-]UNIQUE KEY comp …</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Zeilentyp:</strong><br>
 Es können <strong>beliebig viele Zeilen</strong> eines beliebigen Zeilentyps im Speicher abgelegt werden, deren Anzahl erst zur Programmlaufzeit festgelegt wird.<br>
 Zeilentypen können elementare Datentypen sein, Strukturen oder sehr komplexe dynamische Datenobjekte.<br>
 Auch Referenzvariablen können in internen Tabellen abgespeichert werden.</p>
</div>
<div class="paragraph">
<p><strong>Tabellenarten:</strong><br>
<strong>Standardtabellen</strong> werden mit dem Zusatz STANDARD TABLE deklariert. Die Verwaltung geschieht durch einen internen Tabellenindex. Einfügen erfolgt am Ende oder an bestimmten Positionen. Der Index wird dann reorganisiert.<br></p>
</div>
<div class="paragraph">
<p><strong>Sortierte Tabellen</strong> definiert man über den Zusatz SORTED TABLE. Verwaltet werden die Daten über einen Index, zusätzlich liegen die Sätze immer nach Tabellenschlüssel geordnet vor (optimierter Schlüsselzugriff).<br></p>
</div>
<div class="paragraph">
<p><strong>Hash-Tabellen</strong> erzeugt man mit HASHED TABLE. Hier erfolgt keine Verwaltung über einen Tabellenindex, sondern über einen Hash-Algorithmus (Streuspeicherverwaltung). Die Position des Eintrags wird über eine Hash-Funktion über den eindeutigen Schlüssel berechnet.</p>
</div>
<div class="paragraph">
<p>Hash-Tabellen sind immer dann geeignet, wenn der Schlüsselzugriff die zentrale Funktion ist und Sie mit großen Tabellen arbeiten.</p>
</div>
<div class="listingblock">
<div class="title">Beispiel zu Tabellentypen:</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: BEGIN OF s_address,
        street TYPE c LENGTH 20,
        city   TYPE c LENGTH 20,
      END OF s_address,
      t_address TYPE STANDARD TABLE OF s_address
                WITH NON-UNIQUE KEY city.
DATA: BEGIN OF s_company,
        name      TYPE c LENGTH 20,
        addresses TYPE t_address,
      END OF s_company,
      t_company TYPE HASHED TABLE OF s_company
                WITH UNIQUE KEY name,
      t_company_sorted TYPE SORTED TABLE OF s_company
                WITH UNIQUE KEY name.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Definition (Beispiel pupil):</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: BEGIN OF ts_pupil,
          id TYPE i,
          surname(30) TYPE c,
          name(20) TYPE c,
          city(40) TYPE c,
       END OF ts_pupil,
       tt_pupil TYPE TABLE OF ts_pupil WITH NON-UNIQUE KEY surname.
DATA gs_pupil TYPE ts_pupil.
DATA gt_pupil TYPE tt_pupil.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_initialisierung">5.2. Initialisierung</h3>
<div class="paragraph">
<p>Die interne Tabelle wird mit der Anweisung REFRESH initialisiert (interne Tabelle ist dann leer).<br>
Der Arbeitsbereich wird mit CLEAR initialisiert.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">REFRESH gt_pupil.
CLEAR gs_pupil.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Füllen mit Testdaten:</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">gt_pupil = VALUE tt_pupil(
 ( id = 1 surname = 'Adam'  	name = 'Otto'  city = 'München')
 ( id = 2 surname = 'Berger' 	name = 'Emil'  city = 'Nürnberg')
 ( id = 3 surname = 'Meier'  	name = 'Hanna' city = 'Hannover')
 ( id = 4 surname = 'Schmidt'	name = 'Maria' city = 'Essen')
 ).</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_verwendung_bei_db_tabellen">5.3. Verwendung bei DB-Tabellen</h3>
<div class="paragraph">
<p>Eine interne Tabelle wird im Unterschied zur Datenbanktabelle im Arbeitsspeicher des Anwendungssystems gehalten.<br>
Daher ist es oft sinnvoll, Datenbanktabellen in interne Tabellen zu übertragen, damit ein wesentlich schnellerer Zugriff auf die Daten möglich wird.<br></p>
</div>
<div class="paragraph">
<div class="title">Füllen mit der Array Fetch-Technik</div>
<p>Mit SELECT kann man direkt in eine interne Tabelle einlesen.<br>
Dies erfolgt mittels des Zusatzes INTO TABLE. Dieses Verfahren nennt man Array Fetch.</p>
</div>
<div class="listingblock">
<div class="title">Beispiel:</div>
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SELECT * FROM Z001_63_PUPIL
  		INTO CORRESPONDING FIELDS OF TABLE gt_pupil.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wenn die Felddefinitionen von Datenbanktabelle und interner Tabelle nicht präzise übereinstimmen (weil Sie beispielsweise die Tabelle über einen eigenen Datentyp definiert haben), verwenden Sie stattdessen den Zusatz INTO CORRESPONDING FIELDS OF TABLE. Die Feldzuordnung erfolgt nachfolgenden Regeln:<br></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Gleichnamige Felder der DB-Tabelle und der internen Tabelle werden bei der Wertzuweisung einander zugeordnet und übertragen.</p>
</li>
<li>
<p>Felder der DB-Tabelle, die kein gleichnamiges Feld in der internen Tabelle aufweisen, werden nicht übertragen.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_sortieren">5.4. Sortieren</h3>
<div class="paragraph">
<p>Mit der Anweisung SORT wird die Tabelle nach gewünschten Feldern sortiert.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SORT gt_pupil BY city DESCENDING surname ASCENDING.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_bearbeiten_der_internen_tabelle">5.5. Bearbeiten der internen Tabelle</h3>
<div class="paragraph">
<div class="title">LOOP</div>
<p>Dazu wird die LOOP-Schleife verwendet. Mit folgender Anweisung wird jeweils ein Datensatz in den Arbeitsbereich gestellt; dieser kann dann bearbeitet werden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">LOOP AT gt_pupil INTO gs_pupil.
  WRITE: / gs_pupil-surname, gs_pupil-name, gs_pupil-city.
ENDLOOP.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternativ möglich wäre auch die Verwendung von FIELD-SYMBOLS:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">LOOP AT gt_pupil ASSIGNING FIELD-SYMBOL(&lt;fs_pupil&gt;).
  WRITE:/ &lt;fs_pupil&gt;-name, &lt;fs_pupil&gt;-surname.
ENDLOOP.</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">READ</div>
<p>Aus einer internen Tabelle kann man mittels des Befehls</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">READ TABLE gt_tabelle INTO gs_struktur  WITH KEY feld1 = Vergleichsfeld.</code></pre>
</div>
</div>
<div class="paragraph">
<p>einen einzelnen Datensatz lesen. Den gewünschten Datensatz ermitteln Sie mit Hilfe der WITH KEY – Anweisung. Das Schlüsselfeld muss Bestandteil der internen Tabelle sein.</p>
</div>
<div class="paragraph">
<p><em>Beispiel:</em><br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">READ TABLE gt_pupil INTO gs_pupil
        		WITH KEY surname = 'Meier'.</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Neuere Schreibweise:</em><br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap"> gs_pupil = gt_pupil [ 3 ].</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">DELETE</div>
<p>Löschen aus internen Tabellen<br>
Der Befehl DELETE löscht aus einer internen Tabelle eine Zeile.
Es muss angegeben werden, welche Zeile gelöscht werden kann. Dies kann<br>
(a) mit Hilfe des Tabellenindexes erfolgen:<br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DELETE gt_pupil INDEX sy-tabix.</code></pre>
</div>
</div>
<div class="paragraph">
<p>(b) mit der WHERE-Klausel: 	+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DELETE gt_pupil WHERE surname = 'Meier'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Befehl löscht alle Sätze mit Namen = Meier.<br></p>
</div>
<div class="paragraph">
<p><strong>In ähnlicher Weise wie die oben beschriebenen Befehle funktionieren die Anweisungen</strong><br></p>
</div>
<div class="paragraph">
<p><strong>INSERT</strong> :		Einfügen von Zeilen an anderen Stellen als nur am Tabellenende</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(ln_id) = 5.
gs_pupil = VALUE ts_pupil(
  id = ln_id surname = 'Stein'  name = 'Franz' city = 'Plattling' ).
INSERT gs_pupil INTO gt_pupil INDEX ln_id.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>MODIFY</strong> :		Ändern einer Zeile innerhalb einer internen Tabelle</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">ln_id = 2.
gs_pupil = VALUE ts_pupil(
  id = ln_id surname = 'Bauer'  name = 'Josef' city = 'Deggendorf' ).
MODIFY gt_pupil FROM gs_pupil INDEX ln_id.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>FREE</strong> :		Löschen aller Zeilen und Freigabe des allokierten Speichers</p>
</div>
<div class="paragraph">
<p>usw. (COLLECT, FIND, REPLACE)<br></p>
</div>
</div>
<div class="sect2">
<h3 id="_komplettes_beispiel">5.6. Komplettes Beispiel</h3>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">REPORT z001_63_interne_tabellen.
TYPES: BEGIN OF ts_pupil,
          id TYPE i,
          surname(30) TYPE c,
          name(20) TYPE c,
          city(40) TYPE c,
       END OF ts_pupil,
       tt_pupil TYPE TABLE OF ts_pupil WITH NON-UNIQUE KEY surname.
DATA gs_pupil TYPE ts_pupil.
DATA gt_pupil TYPE tt_pupil.
*
gt_pupil = VALUE tt_pupil(
 ( id = 1 surname = 'Adam'  name = 'Otto' city = 'München')
 ( id = 2 surname = 'Berger'  name = 'Emil' city = 'Nürnberg')
 ( id = 3 surname = 'Meier'  name = 'Hanna' city = 'Hannover')
 ( id = 4 surname = 'Schmidt'  name = 'Maria' city = 'Essen')
 ).

LOOP AT gt_pupil INTO gs_pupil.
  WRITE:/ gs_pupil-name, gs_pupil-surname.
ENDLOOP.
ULINE.
"einen lesen
READ TABLE gt_pupil INTO gs_pupil
            WITH KEY surname = 'Meier'.
WRITE:/ gs_pupil-name, gs_pupil-surname.
ULINE.
gs_pupil = gt_pupil[ 3 ].
WRITE:/ gs_pupil-name, gs_pupil-surname.
ULINE.

"einen hinzufügen (hinten anhängen)
gs_pupil = VALUE ts_pupil(
  id = 7 surname = 'Zappa'  name = 'Frank' city = 'Chicago' ).
APPEND gs_pupil TO gt_pupil.

"einen hinzufügen (an die richtige Stelle)
DATA(ln_id) = 5.
gs_pupil = VALUE ts_pupil(
  id = ln_id surname = 'Stein'  name = 'Franz' city = 'Plattling' ).
INSERT gs_pupil INTO gt_pupil INDEX ln_id.

"ändern
ln_id = 2.
gs_pupil = VALUE ts_pupil(
  id = ln_id surname = 'Bauer'  name = 'Josef' city = 'Deggendorf' ).
MODIFY gt_pupil FROM gs_pupil INDEX ln_id.

"löschen
ln_id = 4.
DELETE gt_pupil INDEX ln_id.

LOOP AT gt_pupil ASSIGNING FIELD-SYMBOL(&lt;fs_pupil&gt;).
  WRITE:/ &lt;fs_pupil&gt;-name, &lt;fs_pupil&gt;-surname.
ENDLOOP.
FREE gt_pupil.
WRITE / 'Jetzt ist alles leer!!'.
LOOP AT gt_pupil ASSIGNING &lt;fs_pupil&gt;.
  WRITE:/ &lt;fs_pupil&gt;-name, &lt;fs_pupil&gt;-surname.
ENDLOOP.</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="AbapImages/interneTabellen.png" alt="InterneTabellen">
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_feldsymbole">6. Feldsymbole</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Feldsymbole sind Platzhalter für bestehende Datenobjekte bzw. Teile von bestehenden Datenobjekten.<br>
Sie <strong>reservieren keinen physischen Platz</strong> und sind <strong>dynamische Bezeichner eines Speicherbereichs.</strong></p>
</div>
<div class="paragraph">
<p>Sie eignen sich für die Programmierung von Operationen, ohne zu wissen, mit welchen Datenobjekten zur Laufzeit tatsächlich gearbeitet wird.</p>
</div>
<div class="paragraph">
<p>Die Anweisung <strong>FIELD-SYMBOLS</strong> deklariert ein Feldsymbol <strong>&lt;fs&gt;</strong>. Für den Namen fs gelten die <em>Namenskonventionen</em>. Die spitzen Klammern unterscheiden Feldsymbole von Datenobjekten und müssen angegeben werden. Feldsymbole können in sämtlichen <em>Prozeduren</em> und im globalen Deklarationsteil eines ABAP-Programms deklariert werden, jedoch nicht im Deklarationsteil einer Klasse oder eines Interfaces.</p>
</div>
<div class="paragraph">
<p>Ein Feldsymbol kann an allen Operandenpositionen verwendet werden, an denen es sichtbar ist und die zu seiner mit <strong>typing</strong> definierten Typisierung passen.</p>
</div>
<div class="paragraph">
<p>Direkt nach seiner Deklaration ist ein Feldsymbol initial, d.h., es referenziert keinen Speicherbereich. Vor einer Verwendung als Operand muss ihm, typischerweise mit der Anweisung <strong>ASSIGN</strong>, ein Speicherbereich zugewiesen werden. Andernfalls kommt es zu einer Ausnahme.</p>
</div>
<div class="paragraph">
<p><strong>Beispiel 1:</strong><br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">FIELD-SYMBOLS &lt;fs&gt; TYPE ANY.
DATA: city    TYPE string,
      zipcode TYPE n LENGTH 5,
      output  TYPE string.

START-OF-SELECTION.
    ASSIGN city TO &lt;fs&gt;.
    &lt;fs&gt; = 'Walldorf'.
    ASSIGN zipcode TO &lt;fs&gt;.
    &lt;fs&gt; = '69190'.
    CONCATENATE zipcode city INTO output SEPARATED BY space.
    MESSAGE output TYPE 'I'.</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="image"><img src="AbapImages/fieldsym1.png" alt="Feldymbole"></span><br></p>
</div>
<div class="paragraph">
<div class="title">Erläuterung:</div>
<p>Die Deklaration von Feldsymbolen erfolgt durch die Form:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">FIELD-SYMBOLS &lt;fs&gt; {TYPE type}|{TYPE dobj}.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Durch die Anweisung ASSIGN wird dem Feldsymbol ein gewünschtes Datenobjekt zugewiesen.<br>
<strong>ANY</strong> / <strong>ANY TABLE</strong><br>
Ein Feldsymbol, das mit ANY typisiert wurde, kann nie als interne Tabelle behandelt werden. Hier bitte ANY TABLE verwenden.</p>
</div>
<div class="paragraph">
<p><strong>Beispiel 2:</strong><br>
Gegeben ist folgende Datenbanktabelle:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="AbapImages/pupil.png" alt="Schülertabelle">
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES: BEGIN OF ts_pupil,
        surname TYPE z001_63_pupil-surname,
        name TYPE z001_63_pupil-name,
        cid TYPE z001_63_pupil-cid,
      END OF ts_pupil.
DATA: gt_pupil TYPE TABLE OF ts_pupil.
FIELD-SYMBOLS &lt;fs_pupil&gt; TYPE ts_pupil.

SELECT surname name cid FROM z001_63_pupil
    INTO TABLE gt_pupil.
IF sy-subrc &lt;&gt; 0. "keinen gefunden
  WRITE: 'keine Sätze gefunden'.
  EXIT.
ENDIF.

SORT gt_pupil BY cid name.
LOOP AT gt_pupil ASSIGNING &lt;fs_pupil&gt;.
  WRITE:/ &lt;fs_pupil&gt;-surname, &lt;fs_pupil&gt;-name, &lt;fs_pupil&gt;-cid.
ENDLOOP.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der <strong>Vorteil</strong> von obiger Methode ist, dass bei der Ausgabe der internen Tabelle (LOOP-Schleife) die Sätze über die Speicherstelle ausgelesen werden. Der Zeitaufwand, Daten erst in einen Arbeitsbereich zu kopieren und dann diesen auszugeben, entfällt. Damit ist obiges Vorgehen wesentlich performanter und sollte grundsätzlich verwendet werden!!</p>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-07-18 15:23:42 +0200
</div>
</div>
</body>
</html>
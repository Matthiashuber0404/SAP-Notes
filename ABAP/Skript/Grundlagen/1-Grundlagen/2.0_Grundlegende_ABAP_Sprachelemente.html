<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content=":email:heidi.koeckeis@dvschule-plattling.de">
<title>Grundlegende ABAP-Sprachelemente</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>Grundlegende ABAP-Sprachelemente</h1>
<div class="details">
<span id="author" class="author">Heidi Köckeis</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Inhaltsverzeichnis</div>
<ul class="sectlevel1">
<li><a href="#_kommentare">1. Kommentare</a></li>
<li><a href="#_anweisungen">2. Anweisungen</a></li>
<li><a href="#_write_befehl_und_formatierungen">3. <code>WRITE</code>-Befehl und Formatierungen</a></li>
<li><a href="#_systemfelder">4. Systemfelder</a></li>
<li><a href="#_daten_und_datentypen">5. Daten und Datentypen</a>
<ul class="sectlevel2">
<li><a href="#_data_anweisung">5.1. <code>DATA</code>-Anweisung</a></li>
<li><a href="#_constants_anweisung">5.2. <code>CONSTANTS</code>-Anweisung</a></li>
<li><a href="#_parameters_anweisung">5.3. <code>PARAMETERS</code>-Anweisung</a></li>
<li><a href="#_textelemente">5.4. Textelemente</a></li>
<li><a href="#_eingebaute_datentypen">5.5. Eingebaute Datentypen</a></li>
<li><a href="#_types_und_definition_von_strukturen">5.6. <code>TYPES</code> und Definition von Strukturen</a></li>
</ul>
</li>
<li><a href="#_kontrollstrukturen">6. Kontrollstrukturen</a>
<ul class="sectlevel2">
<li><a href="#_abfragen">6.1. Abfragen</a></li>
<li><a href="#_schleifen">6.2. Schleifen</a></li>
</ul>
</li>
<li><a href="#_zeichenkettenverarbeitung">7. Zeichenkettenverarbeitung</a>
<ul class="sectlevel2">
<li><a href="#_konkatenation">7.1. Konkatenation</a></li>
<li><a href="#_zerlegung_von_zeichenketten">7.2. Zerlegung von Zeichenketten</a></li>
<li><a href="#_zeichenkette_durchsuchen">7.3. Zeichenkette durchsuchen</a></li>
<li><a href="#_zeichenersetzung">7.4. Zeichenersetzung</a></li>
<li><a href="#_lnge_einer_zeichenkette">7.5. L&auml;nge einer Zeichenkette</a></li>
<li><a href="#_vergleich_von_zeichenketten">7.6. Vergleich von Zeichenketten</a></li>
<li><a href="#_offset_berechnungen_von_zeichenketten">7.7. Offset-Berechnungen von Zeichenketten</a></li>
</ul>
</li>
<li><a href="#_meldungen_die_nachrichtenklasse">8. Meldungen - Die Nachrichtenklasse</a></li>
<li><a href="#_einfache_ein_und_ausgabeoberflchen_selection_screens">9. Einfache Ein- und Ausgabeoberfl&auml;chen - <code>SELECTION-SCREENS</code></a>
<ul class="sectlevel2">
<li><a href="#_ereignisse">9.1. Ereignisse</a></li>
</ul>
</li>
<li><a href="#_unterprogramme_und_funktionen">10. Unterprogramme und Funktionen</a>
<ul class="sectlevel2">
<li><a href="#_unterprogramme">10.1. Unterprogramme</a></li>
<li><a href="#_funktionsbausteine">10.2. Funktionsbausteine</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_kommentare">1. Kommentare</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es gibt zwei M&ouml;glichkeiten um Kommentare im Quellcode einzubauen:<br></p>
</div>
<div class="paragraph">
<p><code>*</code> Muss an der ersten Spalte sein. Bewirkt, dass eine Kommentarzeile eingef&uuml;gt wird:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">*Kommentar, der ab der ersten Spalte beginnt</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>"</code> Kommentare, die nicht ab der ersten Spalte beginnen:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'. "Kommentar, der im Quellcode beginnt</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_anweisungen">2. Anweisungen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>F&uuml;r Anweisungen gibt es folgende Regeln:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Anweisung beinhaltet ABAP Schl&uuml;sselwort.</p>
</li>
<li>
<p>Anweisungen werden mit einem Punkt abgeschlossen.</p>
</li>
<li>
<p>Zwischen den jeweiligen Schl&uuml;sselw&ouml;rtern etc. befindet sich immer ein Leerzeichen.</p>
</li>
<li>
<p>Schl&uuml;sselw&ouml;rter sind case-insensitive, da Quellcode mit Hilfe des Pretty Printers formatiert werden kann
(Men&uuml; "<strong>Hilfsmittel&#8594;Einstellungen&#8594;Pretty Printer</strong>")!</p>
</li>
<li>
<p>Anweisungen k&ouml;nnen als Kettens&auml;tze aufgebaut werden. Hierzu einen <code>:</code> nach dem Schl&uuml;sselwort einf&uuml;gen!</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_write_befehl_und_formatierungen">3. <code>WRITE</code>-Befehl und Formatierungen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Der Befehl dient f&uuml;r Ausgaben am Bildschirm oder in Textvariablen. Ausgaben k&ouml;nnen Texte, Zahlen oder Daten sein.
Es werden zus&auml;tzlich Positions- und Formatierungsanweisungen (z. B. Datumsformate) ber&uuml;cksichtigt.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Neue Zeile:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'.
WRITE / 'Schueler'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World
Schueler</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Durch einen <code>/</code> wird eine neue Zeile begonnen. Im Beispiel wird dabei der Inhalt des Strings ausgegeben!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Spaltenposition / Tabulatoren:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'.
WRITE /10 'Schueler, 30 'der 11a'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World
         Schueler           der 11a</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Durch Angabe einer nat&uuml;rlichen Zahl innerhalb der <code>WRITE</code>-Anweisung, kann bestimmt werden, an welcher Spalte die
Ausgabe beginnen soll. Das Beispiel gibt den Inhalt des Strings1 an Position 10 und des Strings2 an Position 30 aus.
Position 1 entspricht immer den Beginn der Zeile!
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Ausgabenbegrenzung:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'.
WRITE /(3) 'Schueler, (3) 'der 11a'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World
Sch der</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Will man nicht den kompletten Inhalt einer Variable sehen, so kann man z. B. vor der Angabe der Variable die L&auml;nge
begrenzen: <code>( )</code>.
Das Beispiel gibt dabei 3 Zeichen des ersten Strings und 3 Zeichen des zweiten Strings aus.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Leerzeilenbl&ouml;cke:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'.
SKIP 5.
WRITE 'jetzt mit Leerzeilen'.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World





jetzt mit Leerzeilen</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Will man mehrere Leerzeilen einf&uuml;gen, so nutzt man den <code>SKIP X</code>-Befehl. Das Beispiel bewirkt, dass zwischen der
ersten und der zweiten Ausgabe f&uuml;nf Leerzeilen vorhanden sind.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Trennlinie:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE 'Hello World'.
ULINE.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World
----------------------------------------------</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Hierzu benutzt man den Befehl <code>ULINE</code>.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_systemfelder">4. Systemfelder</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Innerhalb eines SAP-Systems gibt es eine spezielle Struktur namens <code>SYST</code> bzw. <code>SY</code>. Diese Struktur beinhaltet insgesamt 171
Felder, die auch Systemfelder genannt werden. Wie der Name schon vermuten l&auml;sst, handelt es sich dabei um spezielle
Informationen zum System und dem jeweiligen Zustand. Diese Felder lassen sich problemlos innerhalb eines Reports verwenden.
Die wichtigsten Felder sind dabei:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Feld</th>
<th class="tableblock halign-left valign-top">Verwendung</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-subrc</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">R&uuml;ckgabewert nach ABAP-Befehlen und Funktionen (0 = Fehlerfrei; &lt;&gt; 0 = Nicht fehlerfrei)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-uname</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Login-Name des Anwenders</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-host</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Name des SAP NetWeaver Application Servers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-mandt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktueller Mandant</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-index</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anzahl der aktuellen Schleifendurchl&auml;ufe</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-tabix</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Index des aktuellen Datensatzes beim Zugriff auf interne Tabelle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-dbcnt</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Anzahl bearbeiteter Datens&auml;tze durch SQL-Statement</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-datum</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktuelles Systemdatum</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-uzeit</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Aktuelle Systemuhrzeit</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>sy-dynnr</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nummer des aktuellen Dynpros / Selektionsbildschirms</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="_daten_und_datentypen">5. Daten und Datentypen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_data_anweisung">5.1. <code>DATA</code>-Anweisung</h3>
<div class="paragraph">
<p>Diese Anweisung wird benutzt, damit Variablen und Referenzvariablen deklariert werden k&ouml;nnen. Diese Variablen k&ouml;nnen
dabei vom jeweiligen Report zur Laufzeit verwendet werden. Der Name der Variable darf bis zu 30 Zeichen lang sein, muss mit
einem Buchstaben beginnen und darf nur lateinische Zeichen, Ziffern und Unterstriche beinhalten. Die Anweisung selbst mit
der Variablen deklariert werden k&ouml;nnen ist <code>DATA</code>. Damit die Variable auch einen speziellen Typ bekommt, dient die Anweisung
<code>TYPE</code>. H&auml;ufig sieht man auch die Anweisung <code>TYPE REF TO</code>. Hierbei handelt es sich um die Deklaration von Referenzvariablen.
Will man Variablen definieren, die genauso sind wie eine bereits definierte Variable, so nutzt man die Anweisung <code>LIKE</code>.
Deklarierte Variablen k&ouml;nnen auch gleich initialisiert werden. Hierzu benutzt man den Zusatz <code>VALUE</code>. Sobald hinter dem
Namen einer Variable in runden Klammern eine nat&uuml;rliche Zahl angegeben wurde, bezieht sich dies auf die L&auml;nge des Wertes,
welchen die Variable halten kann.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Beispiele:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_surname(30) TYPE c.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Hierdurch wird eine Variable mit Namen <code>lv_surname</code> vom Typ <code>Character</code> deklariert, welche maximal 30 Zeichen beinhalten darf.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_surname(30) TYPE c,
	lv_name LIKE lv_surname</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Eine weitere Variable <code>lv_name</code> wird deklariert, welche die gleichen Eigenschafen wie <code>lv_surname</code> hat.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_surname(30) TYPE c VALUE 'Köckeis',
	lv_name LIKE lv_surname VALUE 'Heidi'.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Die vorher definierten Variablen bekommen hierbei lediglich eine entsprechende Vorbelegung.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_name) = 'Heidi'.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Ab ABAP Release 7.40 sind auch sogenannte <code>Inline-Declarations</code> m&ouml;glich. Hierbei spart man sich die Angabe eines Typen.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_constants_anweisung">5.2. <code>CONSTANTS</code>-Anweisung</h3>
<div class="paragraph">
<p>Konstanten sind spezielle Variablen, deren Inhalt zur Laufzeit nicht abge&auml;ndert werden kann. F&uuml;r deren Deklaration
wird das Schl&uuml;sselwort <code>CONSTANTS</code> benutzt. F&uuml;r die Namen der Variablen gelten wiederum die gleichen Eigenschaften
wie auch schon bei den herk&ouml;mmlichen <code>DATA</code>-Deklarationen.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Beispiele:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">CONSTANTS:
	lc_pi TYPE p DECIMALS 2 VALUE '3.14'.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Mit dieser Anweisung wird eine Konstante vom Typ <code>gepackte Zahl</code> mit zwei Nachkommastellen deklariert. Wie man erkennen kann,
handelt es sich um die Kreiszahl Pi.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_parameters_anweisung">5.3. <code>PARAMETERS</code>-Anweisung</h3>
<div class="paragraph">
<p><code>PARAMETERS</code> deklariert f&uuml;r einen Report Eingabeelemente. Diese Parameter sind Bestandteil der sogenannten "Selection-Screens". Im einfachsten
Fall wird der Befehl benutzt um Eingaben vom Anwender des Reports entgegenzunehmen. Im Gegensatz zu herk&ouml;mmlichen
Variablen d&uuml;rfen die Namen der Eingabeparameter lediglich acht Zeichen lang sein. Ansonsten gelten die gleichen Regeln
wie auch f&uuml;r herk&ouml;mmliche Variablen. Da acht Zeichen manchmal allerdings kryptisch sein k&ouml;nnen, gibt es die
M&ouml;glichkeit &uuml;ber das Men&uuml; "<strong>Springen&#8594;Textelemente&#8594;Selektionstexte</strong>" die Namen f&uuml;r die visuelle Ausgabe
abzu&auml;ndern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_surnam(30) TYPE c,
	p_name LIKE p_surnam.</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Parameters_ohne_Bezeichner.png" alt="Parameters ohne Bezeichner">
</div>
</div>
<div class="paragraph">
<p>In dem aufgef&uuml;hrten Beispiel werden 2 Eingabeparameter f&uuml;r den Nachnamen und den Vornamen deklariert.
Die Ausgabe allerdings kann f&uuml;r einen User teilweise unverst&auml;ndlich wirken. Im Folgenden wurden deshalb die
Selektionstexte f&uuml;r die beiden Parameter gepflegt.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Parameters_mit_Bezeichner.png" alt="Parameters mit Bezeichner">
</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Gro&szlig;- und Kleinschreibung:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_surnam(30) TYPE c LOWER CASE,
	p_name LIKE p_surname.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Hello World
Ihr Vorname: Bond
Ihr Nachname: JAMES</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Der Zusatz <code>LOWER CASE</code> bewirkt, dass eine get&auml;tigte Eingabe des Users als case-sensitive behandelt wird.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Checkboxen:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_surnam(30) TYPE c LOWER CASE,
	p_name LIKE p_surname,
	p_teach TYPE c as CHECKBOX.</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Checkbox.png" alt="Checkbox">
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Ein Eingabefeld kann auch als Ankreuzfeld dargestellt werden. Wichtig dabei ist, dass das Ankreuzfeld als <code>Character</code>
deklariert wird. Der Zusatz lautet <code>as CHECKBOX</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Pflichtfelder:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_surnam(30) TYPE c LOWER CASE,
	p_name LIKE p_surname,
	p_teach TYPE c as CHECKBOX,
	p_age TYPE i OBLIGATORY.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Um Eingabeparameter als Muss-Feld zu definieren, bietet ABAP den Zusatz <code>OBLIGATORY</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Radiobutton:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_surnam(30) TYPE c LOWER CASE,
	p_name LIKE p_surname,
	p_teach TYPE c as CHECKBOX,
	p_age TYPE i OBLIGATORY,
	p_man TYPE c RADIOBUTTON GROUP gr1,
	p_woman TYPE c RADIOBUTTON GROUP gr1.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Eingabefelder k&ouml;nnen auch mit Hilfe des Zusatzes <code>RADIOBUTTON</code> als Auswahl dargestellt werden. Diese Auswahl
geh&ouml;rt dabei immer zu einer Gruppe. Weiterhin gilt auch hier, dass ein Eingabeknopf als <code>Character</code> der L&auml;nge 1
deklariert werden muss.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_textelemente">5.4. Textelemente</h3>
<div class="paragraph">
<p>Bereits mehrfach wurden die Textelemente benutzt. Textelemente bieten uns die M&ouml;glichkeit einen Report mehrsprachig zu
gestalten. Im Quellcode selber finden sich dabei lediglich die Verweise auf die jeweiligen Textelemente. Erreicht werden
k&ouml;nnen Textelemente &uuml;ber das Men&uuml; "<strong>Mehr&#8594;Springen&#8594;Textelemente</strong>". Es gibt dabei drei wesentliche Arten
(Screenshots sagen mehr als 1000 Worte):</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><strong>List&uuml;berschriften</strong></span></p>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Listueberschriften.png" alt="Listueberschriften">
</div>
</div>
</li>
<li>
<p><span class="underline"><strong>Selektionstexte</strong></span></p>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Selektionstexte.png" alt="Selektionstexte">
</div>
</div>
</li>
<li>
<p><span class="underline"><strong>Textsymbole</strong></span></p>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">WRITE text-001.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Das ist der Text hinter einem Textsymbol!</code></pre>
</div>
</div>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_eingebaute_datentypen">5.5. Eingebaute Datentypen</h3>
<div class="paragraph">
<p>In den vorausgegangenen Beispielen sind bereits einige wesentlichen Datentypen verwendet worden. Nachfolgende Tabelle
erl&auml;utert dabei explizit die entsprechenden Eigenschaften:</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 12.5%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Typ</th>
<th class="tableblock halign-left valign-top">Zeichen</th>
<th class="tableblock halign-left valign-top">L&auml;nge</th>
<th class="tableblock halign-left valign-top">Beispiel</th>
<th class="tableblock halign-left valign-top">Deklaration</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>c</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Character f&uuml;r einzelne Zeichen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 - 65.535</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'S'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_surname(30) TYPE c.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>n</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Nummerischer Text, wenn keine Berechnung notwendig ist</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 - 65.535</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'069'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_zip(5) TYPE n VALUE '94469'.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Datumswert in der Form YYYYMMDD</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Zeichen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'20171019'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_date TYPE d.

lv_date = sy-datum.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>t</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zeitangabe der Form HHMMSS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6 Zeichen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'152816'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_time TYPE t.

lv_time = sy-uzeit.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>x</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 - 65.535</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'F7'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_guid(32) TYPE x.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>i</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ganze Zahl (Integer)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4 Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">9999</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_counter TYPE i.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>p</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gepackte Zahl f&uuml;r Berechnungen mit L&auml;ngen, Gewichten und Geldbetr&auml;gen</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 - 16 Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'183.95'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_amount TYPE p DECIMALS 2.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>f</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Gleitpunktzahl</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8 Byte</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'138.95'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_amount TYPE f VALUE '23.55'.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>string</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Zeichenfolge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'Hello World'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_text TYPE string.

lv_text = 'Laaaanger Text'.</code></pre>
</div>
</div></div></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>xstring</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Bytefolge</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variabel</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">'F7A3'</p></td>
<td class="tableblock halign-left valign-top"><div class="content"><div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_base64 TYPE xstring.</code></pre>
</div>
</div></div></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Bei genauer Betrachtung stellt man fest, dass es hier keinen Booleschen Datentypen gibt. In ABAP wird stattdessen einfach
ein <code>Character</code> verwendet. F&uuml;r "Wahr" beinhaltet er dabei <code>X</code> bzw. <code>ABAP_TRUE</code> und f&uuml;r den Wert "Falsch" ein
Leerzeichen <code>&nbsp;</code> bzw. <code>ABAP_FALSE</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_types_und_definition_von_strukturen">5.6. <code>TYPES</code> und Definition von Strukturen</h3>
<div class="paragraph">
<p>Mit Hilfe des Schl&uuml;sselwortes <code>TYPES</code> k&ouml;nnen Datentypen innerhalb eines Reports deklariert werden, die sp&auml;ter
in der Variablendeklaration als Variablentyp wiederverwendet werden k&ouml;nnen.  Innerhalb von ABAP gibt es dabei
sogenannte Strukturen. Strukturen sind dabei nichts anders als eine Liste von einzelnen Variablen, die &uuml;ber einen
Strukturnamen angesprochen werden k&ouml;nnen. H&auml;ufig wird daher das <code>TYPES</code> Schl&uuml;sselwort innerhalb eines
Reports benutzt, um eben genau solche wiederverwendbaren Strukturen zu erstellen. Strukturen selber werden mit <code>BEGIN OF</code>
eingeleitet und mit <code>END OF</code> abgeschlossen.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Beispiel:</strong></span></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES:
 BEGIN OF ts_person,
    surname(30) TYPE c,
    name(30)    TYPE c,
    age         TYPE i,
  END OF ts_person.

DATA:
	ls_person TYPE ts_person.</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
In dem aufgef&uuml;hrten Beispiel wird eine Struktur mit Namen <code>ts_person</code> deklariert. Sie beinhaltet drei Felder
(Nachname, Vorname und Alter). Um diese Struktur jetzt auch zur Laufzeit verwenden zu k&ouml;nnen, wird eine Variable
<code>ls_person</code> deklariert. Mit dieser Variable kann jetzt gearbeitet werden!
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">ls_person-surname = 'Bond'.
ls_person-name = 'James'.
ls_person-age = 40.
WRITE: ls_person-name, ls_person-surname, ls_person-age.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Zugriff auf Komponenten der Struktur erfolgt über den 'Bindestrich', nicht wie in anderen Sprachen üblich, über den Punkt.</p>
</div>
<div class="paragraph">
<p><strong>Zuweisung auf andere Felder</strong><br></p>
</div>
<div class="paragraph">
<p>Mit dem Schlüsselwort <code>LIKE</code> können Felder mit Bezug auf ein anderes, bereits vorhandenes Feld definiert werden.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
  ls_singer LIKE ls_person.

ls_singer = ls_person.
ls_singer-surname = 'Blunt'.
ls_singer-age = 46.
WRITE:/ ls_singer-name, ls_singer-surname, ls_singer-age.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Strukturen geschachtelt</strong><br></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">TYPES:
  BEGIN OF ts_address,
    city(30)   TYPE c,
    street(30) TYPE c,
  END OF ts_address,
  BEGIN OF ts_person,
    surname(30) TYPE c,
    name(30)    TYPE c,
    age         TYPE i,
    address     TYPE ts_address,
  END OF ts_person.


ls_person-address-city = 'London'.
ls_person-address-street = 'Downing Street 10'.
WRITE: ls_person-address-city, ls_person-address-street.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_kontrollstrukturen">6. Kontrollstrukturen</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_abfragen">6.1. Abfragen</h3>
<div class="paragraph">
<p><span class="underline"><strong>Die <code>IF</code>-Abfrage</strong></span><br>
Wie auch bei anderen Programmiersprachen beinhaltet auch ABAP eine herk&ouml;mmliche "Wenn-Dann-Abfrage". Es wird immer eine
entsprechende Bedingung gepr&uuml;ft. Sollte diese Bedingung dabei wahr sein, werden die Anweisungen bis zum Ende des
Anweisungsblocks ausgef&uuml;hrt. Das Konstrukt sieht dabei immer folgenderma&szlig;en aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_input TYPE c.

IF p_input = 'A'.
	WRITE 'A wurde eingegeben!'.
ELSEIF p_input = 'B'.
	WRITE 'B wurde eingegeben!'.
ELSE.
	WRITE 'Weder A noch B wurde eingegeben!'.
ENDIF.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Grundlage f&uuml;r Bedingungen bilden sogenannte "logische Ausdr&uuml;cke", die auswerten, ob eine Bedingung wahr oder falsch
ist. Damit diese Ausdr&uuml;cke auch aufgebaut werden k&ouml;nnen, existieren in ABAP eine Reihe von Operatoren:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><strong>Gleich-Pr&uuml;fung:</strong></span> <code>=</code> bzw. <code>EQ</code></p>
</li>
<li>
<p><span class="underline"><strong>Ungleich-Pr&uuml;fung:</strong></span> <code>&lt;&gt;</code> bzw. <code>NE</code></p>
</li>
<li>
<p><span class="underline"><strong>Kleiner-Pr&uuml;fung:</strong></span> <code>&lt;</code> bzw. <code>LT</code></p>
</li>
<li>
<p><span class="underline"><strong>Gr&ouml;&szlig;er-Pr&uuml;fung:</strong></span> <code>&gt;</code> bzw. <code>GT</code></p>
</li>
<li>
<p><span class="underline"><strong>Kleiner-Gleich-Pr&uuml;fung:</strong></span> <code>&lt;=</code> bzw. <code>LE</code></p>
</li>
<li>
<p><span class="underline"><strong>Gr&ouml;&szlig;er-Gleich-Pr&uuml;fung:</strong></span> <code>&gt;=</code> bzw. <code>GE</code></p>
</li>
<li>
<p><span class="underline"><strong>Intervall-Pr&uuml;fung:</strong></span> <code>BETWEEN lv_var1 AND lv_var2</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Es k&ouml;nnen auch mehrere logische Ausdr&uuml;cke miteinander verkn&uuml;pft werden, hierzu gibt es folgende Operatoren:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><strong>Und-Verkn&uuml;pfung:</strong></span> <code>AND</code></p>
</li>
<li>
<p><span class="underline"><strong>Oder-Verkn&uuml;pfung:</strong></span> <code>OR</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ab Release 7.40 kann innerhalb von ABAP ein <code>IF</code>-Statement auch folgenderma&szlig;en aufgebaut werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_input TYPE c.

DATA(lv_text) = COND string(
	WHEN p_input = 'A' THEN 'A wurde eingegeben!'
	WHEN p_input = 'B' THEN 'B wurde eingegeben!'
	ELSE 'Weder A noch B wurde eingegeben!'
).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Beim aufgef&uuml;hrten Beispiel wird zun&auml;chst &uuml;ber eine Inline-Deklaration eine Variable <code>lv_text</code> erzeugt. In
diese Variable soll das Ergebnis einer <code>IF</code>-Abfrage vom Typ String abgelegt werden. Man muss nicht immer den Typen der
Abfrage angeben. L&auml;sst sich der Typ von den einzelnen Resultaten ableiten&#8201;&#8212;&#8201;in unserem Fall immer <code>String</code>&#8201;&#8212;&#8201;so kann man
auch ein <code>#</code> verwenden.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Die <code>CASE</code>-Abfrage</strong></span><br>
Will man auf mehrere feste Werte &uuml;berpr&uuml;fen, so benutzt man eine <code>CASE</code>-Anweisung. In ihr ist es m&ouml;glich
eine spezielle Variable auf mehrere unterschiedliche Situationen zu pr&uuml;fen. Trifft keiner der jeweiligen Bedingungen
zu, so wird der Anweisungsblock nach <code>WHEN OTHER</code> ausgef&uuml;hrt. Das Beispiel der <code>IF</code>-Anweisung kann daher auch
als <code>CASE</code>-Anweisung geschrieben werden. Die Schreibweise sieht dabei folgenderma&szlig;en aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
	p_input TYPE c.

CASE p_input.
	WHEN 'A'.
		WRITE 'A wurde eingegeben!'.
	WHEN 'B'.
		WRITE 'B wurde eingegeben!'.
	WHEN OTHERS.
		WRITE 'Weder A noch B wurde eingegeben!'.
ENDCASE.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wie auch schon bei der <code>IF</code>-Abfrage l&auml;sst sich auch die <code>CASE</code>-Anweisung ab ABAP 7.40 performanter gestalten. Wie schon
angesprochen, wird beim aufgef&uuml;hrten Beispiel <code>#</code> verwendet, da wir wissen, dass die R&uuml;ckgabe immer ein <code>String</code>
ist. Der Datentyp kann also von der R&uuml;ckgabe abgeleitet werden!</p>
</div>
</div>
<div class="sect2">
<h3 id="_schleifen">6.2. Schleifen</h3>
<div class="paragraph">
<p><span class="underline"><strong>Die <code>DO</code>-Schleife</strong></span><br>
Hierbei handelt es sich um eine nicht bedingte Schleife. H&auml;ufig wird sie auch als Z&auml;hlschleife aufgef&uuml;hrt,
da man bei ihr angeben kann, wie oft sie durchlaufen werden sollte. Hierzu dient der Zusatz <code>n TIMES</code>, wobei das <code>n</code>
eine nat&uuml;rliche Zahl ist und die Anzahl von Durchl&auml;ufen repr&auml;sentiert. Will man die Schleife bereits vor der
angegebenen Laufzeit verlassen, so schafft man das mit der <code>EXIT</code>-Anweisung. Wird der Zusatz <code>n TIMES</code> weggelassen, so wird
die Schleife solange ausgef&uuml;hrt, bis sie das Abbruchkriterium erf&uuml;llt! Ein weiterer wichtiger Befehl in diesem
Zusammenhang ist der sogenannte <code>CONTINUE</code>-Befehl. Mit ihm werden innerhalb eines Schleifendurchlaufs alle verbleibenden
Anweisungen &uuml;bersprungen und der n&auml;chste Run angesto&szlig;en. Um dabei festzustellen bei welchem Schleifendurchlauf man
sich befindet, kann innerhalb des Durchlaufs &uuml;ber das Systemfeld <code>sy-index</code> die aktuelle Anzahl abgefragt werden!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_number TYPE i VALUE 20.

DO lv_number TIMES.
	WRITE:/ 'Aktueller Durchlauf:', sy-index.
	IF sy-index = 10.
		WRITE: / 'Bitte keinen weiteren Durchlauf mehr!'.
		EXIT.
	ENDIF.
ENDDO.
ULINE.
WRITE: / 'Endlich raus aus der Schleife'.</code></pre>
</div>
</div>
<div class="paragraph">
<p>In dem aufgef&uuml;hrten Beispiel soll eigentlich insgesamt 20-mal die Schleife durchlaufen werden. Jeder Schleifendurchlauf
erzeugt dabei eine Ausgabe der aktuellen Durchlaufnummer. Da allerdings in dem Beispiel nicht mehr als 10-mal die gleiche
Ausgabe erfolgen soll, wird beim 10ten Durchlauf die Schleife vorzeitig verlassen. Die entsprechende Ausgabe sieht wie folgt
aus:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/DO_Schleife.png" alt="DO Schleife">
</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Die <code>WHILE</code>-Schleife</strong></span><br>
Im Gegensatz zur <code>DO</code>-Schleife, handelt es sich bei der <code>WHILE</code>-Schleife um eine bedingte Wiederholung von Anweisungen.
Das bedeutet auch, dass dieser Art von Loop unter Umst&auml;nden auch kein einziges Mal ausgef&uuml;hrt wird, falls die
entsprechende Bedingung nicht erf&uuml;llt ist. Ansonsten gelten die gleichen Anweisungen wie auch schon bei der
<code>DO</code>-Schleife. Obiges Beispiel sieht dabei folgenderma&szlig;en aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_number TYPE i VALUE 20.

WHILE sy-index &lt; lv_number.
	WRITE:/ 'Aktueller Durchlauf:', sy-index.
	IF sy-index = 10.
		WRITE: / 'Bitte keinen weiteren Durchlauf mehr!'.
		EXIT.
	ENDIF.
ENDWHILE.
ULINE.
WRITE: / 'Endlich raus aus der Schleife'.</code></pre>
</div>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Wichtige Erg&auml;nzung zum <code>EXIT</code>-Befehl und dem Systemfeld <code>sy-index</code>:</strong></span><br>
Der <code>EXIT</code>-Befehl bewirkt immer einen entsprechenden Abbruch. Innerhalb einer Schleife f&uuml;hrt er dazu, dass diese
vorzeitig beendigt wird. Wenn dieser Befehl au&szlig;erhalb einer Schleife innerhalb eines Reports verwendet wird, so
resultiert dies in einem Programmabbruch. <code>sy-index</code> bezieht sich immer auf den aktuellen Schleifendurchlauf. Handelt es
sich um verschachtelte Loops, so z&auml;hlt <code>sy-index</code> immer f&uuml;r die aktuellste innerste ausgef&uuml;hrte Schleife.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_zeichenkettenverarbeitung">7. Zeichenkettenverarbeitung</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Wie der Name schon vermuten l&auml;sst, beziehen sich Zeichenkettenverarbeitungen haupts&auml;chlich auf Datenobjekte der Typen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>c</code> (= Charakter)</p>
</li>
<li>
<p><code>d</code> (= Datum)</p>
</li>
<li>
<p><code>n</code> (= Nummerischer Text)</p>
</li>
<li>
<p><code>t</code> (= Zeit)</p>
</li>
<li>
<p><code>string</code> (= Zeichenkette)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Interessante Links:<br>
<a href="https://www.berater-wiki.de/Zeichenketten-Templates" class="bare">https://www.berater-wiki.de/Zeichenketten-Templates</a><br>
<a href="https://otremba.net/wiki/Stringoperationen_(ABAP" class="bare">https://otremba.net/wiki/Stringoperationen_(ABAP</a>)<br>
<a href="https://software-heroes.com/blog/abap-string-templates-teil-1" class="bare">https://software-heroes.com/blog/abap-string-templates-teil-1</a></p>
</div>
<div class="paragraph">
<p>Es gibt hierbei eine Reihe von ABAP-Anweisungen mit denen sich unterschiedliche Operationen ausf&uuml;hren lassen:</p>
</div>
<div class="sect2">
<h3 id="_konkatenation">7.1. Konkatenation</h3>
<div class="paragraph">
<p>Hierbei handelt es sich um die Verkn&uuml;pfung von Zeichen bzw. ganzen W&ouml;rtern zu einem komplett neuen Wort.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	lv_surname(30) TYPE c VALUE 'Kerscher',
	lv_name LIKE lv_surname VALUE 'Josef',
	lv_result TYPE string.

CONCATENATE lv_surname lv_name into lv_result.

WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>KerscherJosef</strong></p>
</div>
<div class="paragraph">
<p>Damit die Ausgabe optisch versch&ouml;nert werden kann und die einzelnen Bestandteile nicht einfach aneinander geklatscht
werden, gibt es den Zusatz <code>SEPARATED BY</code> wodurch angegeben werden kann, was ein entsprechendes Trennzeichen ist:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">CONCATENATE lv_surname lv_name into lv_result SEPARATED BY space.

WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>KerscherJosef</strong></p>
</div>
<div class="paragraph">
<p>Mit Release 7.40 gibt es auch hier wieder eine Abwandlung des Befehls. Mit Hilfe eines einfachen <code>&amp;&amp;</code> kann ebenfalls eine
Verkettung erreicht werden!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_result) = 'Kerscher' &amp;&amp; 'Josef'.

WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>KerscherJosef</strong></p>
</div>
<div class="paragraph">
<p>Obige Schreibweise ist problematisch, wenn Leerzeichen verwendet werden sollen:<br>
<em>Fall 1:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_result) = 'Kerscher'  &amp;&amp; ' '  &amp;&amp; 'Josef'.
WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>KerscherJosef</strong></p>
</div>
<div class="paragraph">
<p><em>Fall 2:</em></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_result) = 'Kerscher'  &amp;&amp; ' a  '  &amp;&amp; 'Josef'.
WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>Kerscher aJosef</strong></p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
<strong>Regel:</strong> Alle jeweils rechts in den Textwerten stehenden Leerzeichen werden eliminiert, wenn ein "normales" Hochkomma '  ' verwendet wird. Bei Benutzung des Accent Grave `  ` werden Leerzeichen wie angegeben eingesetzt.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">lv_result = lv_surname &amp;&amp; ` ` &amp;&amp; lv_name.
WRITE:/ lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>ergibt: <strong>Kerscher Josef</strong></p>
</div>
<div class="paragraph">
<p>Eine weitere Möglichkeit <strong>- meine präferierte -</strong> ist folgende Schreibweise:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">lv_result = |Der Vorname vom { lv_surname } ist { lv_name }.|.

WRITE lv_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Das ergibt:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Der Vorname vom Kerscher ist Josef.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Feste Texte/Strings werden zeichengenau ausgegeben, auch mit Leerzeichen. Variablen müssen in geschweifte Klammern geschrieben werden, vor und nach der Variable ist ein Leerzeichen zu setzen.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_zerlegung_von_zeichenketten">7.2. Zerlegung von Zeichenketten</h3>
<div class="paragraph">
<p>H&auml;ufig ist es notwendig, dass Zeichenketten an bestimmten Teilen aufgetrennt werden. In ABAP wird dies durch die
<code>SPLIT</code>-Anweisung erreicht:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_namelist) = 'Kerscher,Josef;Köckeis,Heidi'.
SPLIT lv_namelist AT ';' INTO DATA(lv_person1) DATA(lv_person2).
WRITE lv_person1.
WRITE / lv_person2.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">Kerscher,Josef
Köckeis,Heidi</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Die Zahl der benötigten Variablen zur Aufnahme des Ergebnisses der Funktion SPLIT sind aktuell noch vom Programmierer zu ermitteln.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_zeichenkette_durchsuchen">7.3. Zeichenkette durchsuchen</h3>
<div class="paragraph">
<p>Man kann auch pr&uuml;fen, ob eine Zeichenkette ein gewisses Zeichen beinhaltet oder nicht. Indikator daf&uuml;r ist das
Systemfeld <code>sy-subrc</code>. Falls das Zeichen gefunden wurde, so hat es den Wert 0, andernfalls den Wert 4. Das Systemfeld
<code>sy-fdpos</code> gibt dabei die Position des Zeichens in der Zeichenkette an! (F&auml;ngt bei 0 an zu z&auml;hlen).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_text) = 'ABAP ist doch ein sehr gutes Fach, oder?'.
SEARCH lv_text FOR '?'.
IF sy-subrc = 0.
	WRITE 'Zeichen wurde gefunden!'.
	WRITE: / 'Position:', sy-fdpos.
ENDIF.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
SEARCH ist mittlerweile obsolet. Es wird FIND empfohlen, was auch reguläre Ausdrücke verarbeiten kann.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_zeichenersetzung">7.4. Zeichenersetzung</h3>
<div class="paragraph">
<p>Manchmal ist es notwendig einzelne Zeichen oder alle vorkommenden Zeichen eines bestimmten Typs innerhalb einer Zeichenkette
auszutauschen bzw. zu ersetzen.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_text) = 'BFS10, BFS11, BFS12, FS11, FS12'.
REPLACE ', ' WITH '-' INTO lv_text.
WRITE lv_text.</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-terminal" data-lang="terminal">BFS10-BFS11, BFS12, FS11, FS12</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wie man sehr sch&ouml;n sehen kann, f&uuml;hrt eine <code>REPLACE</code>-Anweisung ohne Zusatz lediglich dazu, dass das erste
Vorkommen getauscht wird. Um tats&auml;chlich alle zu finden und zu ersetzen, gibt es den Zusatz <code>ALL OCCURENCES OF</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_text) = 'BFS10, BFS11, BFS12, FS11, FS12'.
REPLACE ALL OCCURENCES OF ', ' IN lv_text WITH '-'.</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_lnge_einer_zeichenkette">7.5. L&auml;nge einer Zeichenkette</h3>
<div class="paragraph">
<p>&Uuml;ber die Funktion <code>strlen( )</code> wird die L&auml;nge einer Zeichenkette ermittelt.
Die L&auml;nge selbst wird als ganzzahliger Wert ermittelt.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_text) = 'BFS10, BFS11, BFS12, FS11, FS12'.
DATA(lv_length) = strlen( lv_text ).</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_vergleich_von_zeichenketten">7.6. Vergleich von Zeichenketten</h3>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><strong><code>CO</code> (= contains only)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A nur Zeichen aus Zeichenkette B enth&auml;lt.</p>
</li>
<li>
<p><span class="underline"><strong><code>CN</code> (= contains not only)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A nicht nur Zeichen aus Zeichenkette B enth&auml;lt.</p>
</li>
<li>
<p><span class="underline"><strong><code>CA</code> (= contains any)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A mindestens ein Zeichen aus Zeichenkette B enth&auml;lt.</p>
</li>
<li>
<p><span class="underline"><strong><code>NA</code> (= contains not any)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A kein Zeichen aus Zeichenkette B enth&auml;lt.</p>
</li>
<li>
<p><span class="underline"><strong><code>CS</code> (= contains string)</strong></span><br>
Pr&uuml;ft, ob in Zeichenkette A die komplette Zeichenkette B enthalten ist.</p>
</li>
<li>
<p><span class="underline"><strong><code>NS</code> (= contains not string)</strong></span><br>
Pr&uuml;ft, ob in Zeichenkette A die komplette Zeichenkette B nicht enthalten ist.</p>
</li>
<li>
<p><span class="underline"><strong><code>CP</code> (= contains pattern)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A das Muster von Zeichenkette B beinhaltet. Bei diesem
Vergleich wird keine Gro&szlig;- und Kleinschreibung und auch keine abschlie&szlig;enden Leerzeichen ber&uuml;cksichtigt.
Hierf&uuml;r k&ouml;nnen Wildecards benutzt werden<br>
<code>*</code>: steht f&uuml;r beliebig viele Zeichen.<br>
 <code>+</code>: steht f&uuml;r exakt ein Zeichen.</p>
</li>
<li>
<p><span class="underline"><strong><code>NP</code> (= contains no pattern)</strong></span><br>
Pr&uuml;ft, ob Zeichenkette A das Muster von Zeichenkette B nicht enth&auml;lt. Es gelten die gleichen Regelungen wie beim <code>CP</code>-Operator.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_offset_berechnungen_von_zeichenketten">7.7. Offset-Berechnungen von Zeichenketten</h3>
<div class="paragraph">
<p>Die Offset-Berechnung von Zeichenketten stellt eigentlich nur die Adressierung von speziellen Abschnitten innerhalb einer Zeichenkette dar.
Um die Thematik zu verstehen, eignet sich hierf&uuml;r immer das Systemdatum in der Form <code>YYYYMMTT</code>. Ziel ist es das Datum in folgendes Format zu
&uuml;berf&uuml;hren: <code>TT.MM.YYYY</code>. Wichtig bei Offset-Berechnungen ist, dass die erste Stelle bei 0 anf&auml;ngt!!!</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA(lv_result) = sy-datum+6(2) &amp;&amp; '.' &amp;&amp; sy-datum+4(2) &amp;&amp; '.' &amp;&amp; sy-datum(4).
WRITE lv_result.</code></pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_meldungen_die_nachrichtenklasse">8. Meldungen - Die Nachrichtenklasse</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Innerhalb eines Programms ist es nat&uuml;rlich auch immer sinnvoll, einem Benutzer entsprechende Meldungen auszugeben. Sind
vielleicht falsche Eingaben get&auml;tigt worden oder hat eine Aktion bzw. eine Anweisung nicht geklappt? Innerhalb von
Reports gibt es f&uuml;r solche Zwecke die sogenannte <code>MESSAGE</code>-Anweisung. Diese Anweisung arbeitet mit entsprechenden
Nachrichtenklassen. Innerhalb dieser Nachrichtenklassen werden dabei alle entsprechenden Meldungen abgelegt und im Programm
wird im Anschluss darauf verwiesen. Der Aufbau der Anweisung sieht dabei folgenderma&szlig;en aus:
<code>MESSAGE TYPE/NUMBER(MESSAGECLASS)</code>. Der Typ steht dabei f&uuml;r die Art von Meldung und die entsprechende Darstellung.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Typ</th>
<th class="tableblock halign-left valign-top">Darstellung</th>
<th class="tableblock halign-left valign-top">Verarbeitung</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Popup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Programmabbruch</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">E</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statuszeile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ausgabe der Fehlermeldung, Programm bleibt stehen und wird nicht geschlossen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Popup</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fenster erscheint und nach Best&auml;tigung wird Programm fortgesetzt</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statuszeile des Folgescreens</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ausgabe der Meldung und Navigation zum n&auml;chsten Screen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Statuszeile</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ausgabe der Warnung, Programm bleibt stehen und wird nicht geschlossen</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">GUI-Fenster</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Laufzeitfehler mit Kurzdump</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Um dabei mit Nachrichtenklassen arbeiten zu k&ouml;nnen, gibt es ein entsprechendes Vorgehen:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Anlage einer neuen Nachrichtenklasse in der Transaktion <strong>SE91</strong> oder <strong>SE80</strong>.</p>
</li>
<li>
<p>Nachrichten k&ouml;nnen auch mit Platzhaltern arbeiten: <code>&amp;1</code> - <code>&amp;4</code></p>
</li>
<li>
<p>Nachricht innerhalb des Reports verwenden!</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Nachrichtenklasse.png" alt="Nachrichtenklasse">
</div>
</div>
<div class="paragraph">
<p>Zugriff auf die Nachrichten:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">CASE p_op.
    WHEN '/'.
      IF p_zahl2 = 0.
        MESSAGE e002(zkoe2_u_messages).
      ENDIF.
     [...]
    WHEN OTHERS.
      MESSAGE e003(zkoe2_u_messages) WITH p_op.
ENDCASE.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Damit auch die Platzhalter versorgt werden, kann die <code>MESSAGE</code>-Anweisung um den Zusatz <code>WITH field</code> erweitert werden.
Weiterhin ist es auch m&ouml;glich, dass eine Nachricht in eine Variable abgelegt wird. Hierzu gibt es den Zusatz
<code>INTO field</code>.</p>
</div>
<div class="paragraph">
<p>Die obige Methode erzeugt eine "rote" Fehlermeldung in der Statuszeile und beendet das Programm.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Fehlermeldung.png" alt="Fehlermeldung">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Soll das Programm nicht verlassen werden, dann kann statt 'E' auch 'S' verwenden, allerdings mit dem Zusatz DISPLAY LIKE 'E'.<br>
Da eine weitere Verarbeitung aber nicht erwünscht ist, muss zusätzlich noch der EXIT-Befehl verwendet werden.<br>
Die Meldung sieht dann genau so aus wie oben.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">IF p_zahl2 = 0.
    MESSAGE s002(zkoe2_u_messages) DISPLAY LIKE 'E'.
    EXIT.
ENDIF.</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Statt bei der MESSAGE-Anweisung kann die Nachrichtenklassen auch hinter die REPORT-Anweisung geschrieben werden. Das hat den Vorteil, dass sie bei MESSAGE nicht mehr angegeben werden muss.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">REPORT zkoe2_p_r_p03a MESSAGE-ID zkoe2_u_messages.</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_einfache_ein_und_ausgabeoberflchen_selection_screens">9. Einfache Ein- und Ausgabeoberfl&auml;chen - <code>SELECTION-SCREENS</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Das Prinzip der sogenannten <code>SELECTION-SCREENS</code> basiert auf einer einfachen
&Uuml;berlegung: Es sollten Ein- und Ausgabeoberfl&auml;chen ohne gro&szlig;en Aufwand
erzeugt werden, die den typischen Look &amp; Feel bekannter Anwendungen innerhalb
eines SAP-Systems besitzen. Wie in Kapitel 2.5.3 beschrieben, werden herk&ouml;mmliche
Benutzereingaben dabei mit Hilfe des <code>PARAMETERS</code> Befehls entgegengenommen. Die
wichtigsten Befehle f&uuml;r die Thematik hier im &Uuml;berblick. Mit folgendem Befehl wird die
Erstellung von einfachen Benutzeroberfl&auml;chen &uuml;berhaupt begonnen.
Sobald s&auml;mtliche Oberfl&auml;chenelemente definiert wurden, wird zum
Abschluss dieser Befehl erneut genutzt, damit die Definition abgeschlossen werden
kann:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SELECTION-SCREEN BEGIN OF SCREEN 100
	TITLE text-001.

SELECTION-SCREEN END OF SCREEN 100.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Zusatz <code>TITLE</code> bewirkt, dass ein Titel f&uuml;r den <code>SELECTION-SCREEN</code>
gesetzt wird. Weiterhin hat jeder Screen eine eindeutige 4-stellige Nummer.
In diesem Beispiel 100. Es besteht auch die M&ouml;glichkeit innerhalb der
Screens Kommentare auszugeben. &Uuml;ber <code>SELECTION-SCREEN COMMENT /col(length) comment</code>
kann dies erreicht werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SELECTION-SCREEN BEGIN OF SCREEN 100
	TITLE text-001.
SELECTION-SCREEN COMMENT /20(30) text-002.
SELECTION-SCREEN END OF SCREEN 100.

START-OF-SELECTION.
  CALL SELECTION-SCREEN 100.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Die Angabe bewirkt, dass ein 30-stelliger Kommentar ab Spalte 20 ausgegeben wird.
Wird der Report ausgef&uuml;hrt, so erh&auml;lt man folgende Ausgabe:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Kommentar_SELECTION_SCREEN.png" alt="Kommentar SELECTION SCREEN">
</div>
</div>
<div class="paragraph">
<p>H&auml;ufig will man Ein- und Ausgabefelder gruppieren, da diese zu einer
logischen Gruppe geh&ouml;ren. Auch hierf&uuml;r gibt es entsprechende
Anweisungen! &Uuml;ber SELECTION-SCREEN BEGIN OF BLOCK block` und
<code>SELECTION-SCREEN END OF BLOCK block</code> wird eine
Umrahmung erzeugt. Der Zusatz <code>WITH FRAME TITLE</code> bewirkt dabei, dass f&uuml;r den
jeweiligen Block auch eine &Uuml;berschrift hinzugef&uuml;gt werden kann! Im
nachfolgenden Beispiel sind auch noch weitere Anweisungen zu finden.
<code>SELECTION-SCREEN ULINE</code> erzeugt innerhalb des Screens eine Trennlinie.
<code>SELECTION-SCREEN SKIP n</code> bewirkt, dass n Leerzeilen eingef&uuml;gt werden:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">SELECTION-SCREEN BEGIN OF SCREEN 100
	TITLE text-001.

SELECTION-SCREEN BEGIN OF BLOCK b1
	WITH FRAME TITLE text-002.
	SELECTION-SCREEN COMMENT /1(79) text-003.
	SELECTION-SCREEN ULINE.
	SELECTION-SCREEN SKIP 1.
	PARAMETERS:
		p_sname(30) TYPE c,
		p_name LIKE p_sname.
SELECTION-SCREEN END OF BLOCK b1.

SELECTION-SCREEN END OF SCREEN 100.

START-OF-SELECTION.
  CALL SELECTION-SCREEN 100.</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/SELECTION_SCREEN_BLOCK.png" alt="SELECTION SCREEN BLOCK">
</div>
</div>
<div class="paragraph">
<p>Wird obiges Beispiel in einem Report umgesetzt und man f&uuml;hrt im Anschluss
das Programm aus, erh&auml;lt man allerdings immer noch keine Ausgabe. Der
entsprechende <code>SELECTION-SCREEN</code> muss erst &uuml;ber eine Anweisung aufgerufen
werden. <code>CALL SELECTION-SCREEN 'number' STARTING AT col1 line1 ENDING AT col2 line2</code>.
&Uuml;ber diesen Befehl wird der Screen tats&auml;chlich aufgerufen. Der Zusatz
<code>STARTING AT</code> bewirkt dabei, dass der Screen innerhalb eines eigenen Fensters
gestartet wird. Die Spalten- und Zeilenangaben repr&auml;sentieren dabei eine
ungef&auml;hre Cursorposition. Die Gr&ouml;&szlig;e des Fensters wird dabei
automatisch gew&auml;hlt, au&szlig;er man benutzt den Zusatz <code>ENDING AT</code>.</p>
</div>
<div class="sect2">
<h3 id="_ereignisse">9.1. Ereignisse</h3>
<div class="paragraph">
<p>Jeder <code>SELECTION-SCREEN</code> hat auch diverse Ereignisse, auf die innerhalb eines
ABAP Reports zugegriffen werden kann:</p>
</div>
<div class="paragraph">
<p><code>AT SELECTION-SCREEN OUTPUT</code>:<br>
Ereignis wird unmittelbar vor der Anzeige des Screens ausgel&ouml;st. Eignet
sich besonders f&uuml;r Bildmodifikationen und Initialisierungen.</p>
</div>
<div class="paragraph">
<p><code>AT SELECTION-SCREEN ON field</code>:<br>
Ereignis wird ausgel&ouml;st, sobald der Screen abgeschickt wurde. Das Ereignis
selbst hat allerdings nur ein spezielles Feld im Zugriff. Wird haupts&auml;chlich
benutzt, damit Eingaben gepr&uuml;ft werden k&ouml;nnen. Fehlermeldungen
bewirken hierbei, dass das betroffene Feld wieder eingabebereit wird.</p>
</div>
<div class="paragraph">
<p><code>AT SELECTION-SCREEN ON BLOCK block</code>:<br>
Ereignis wird ausgel&ouml;st, sobald der Screen abgeschickt wird. Das Ereignis
bezieht sich auf einen kompletten Block und eignet sich daher besonders f&uuml;r
Eingabepr&uuml;fungen und Fehlerhandling. Auch hier bewirkt eine Fehlermeldung
wieder, dass die Felder des jeweiligen Blocks erneut eingabebereit werden.</p>
</div>
<div class="paragraph">
<p><code>AT SELECTION-SCREEN ON RADIOBUTTON GROUP group</code>:<br>
&Auml;hnliches Ereignis wie <code>AT SELECTION-SCREEN ON BLOCK block</code>, allerdings mit
dem Unterschied, dass es sich auf eine spezielle Radiobuttongruppe bezieht.</p>
</div>
<div class="paragraph">
<p><code>AT SELECTION-SCREEN</code>:<br>
Grundform der vorausgegangenen Ereignisse. Nach Abschicken des Screens wird es
ausgel&ouml;st und es hat alle Felder auf dem Screen zur Verf&uuml;gung.</p>
</div>
<div class="paragraph">
<p><code>START-OF-SELECTION</code>:<br>
Ereignis f&uuml;r die eigentliche Programmlogik. Sobald ein Report gestartet
wird, landet man innerhalb dieses Ereignisses. Sind Selektionsbildschirme im
Spiel, dann landet man nach erfolgreicher Abarbeitung des Selektionsbildschirms
auch wieder innerhalb dieses Ereignisses!</p>
</div>
<div class="paragraph">
<p><code>END-OF-SELECTION</code>:<br>
Nachdem alle Anweisungen innerhalb von <code>START-OF-SELECTION</code> abgearbeitet wurden,
wird dieses Ereignis kurz vor der Anzeige des Ergebnisses ausgel&ouml;st.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_unterprogramme_und_funktionen">10. Unterprogramme und Funktionen</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Es ist nicht mehr &uuml;blich, dass ein Hauptprogramm aus mehreren 100 Zeilen
Code besteht. H&auml;ufig finden sich wiederverwendbare Schnipsel, die an
unterschiedlichen Stellen verwendet werden k&ouml;nnen.</p>
</div>
<div class="paragraph">
<p>Manchmal wird der
Programmcode einfach zu un&uuml;bersichtlich. Auch innerhalb der Welt von SAP
hat es sich etabliert, dass Reports in Hauptbereiche und Unterbereiche
gegliedert werden.</p>
</div>
<div class="paragraph">
<p>Die Vorteile liegen hierbei nat&uuml;rlich auf der Hand.
Auf der einen Seite wird es erm&ouml;glicht, dass Code in logische Einheiten
aufgeteilt werden kann. Man erreicht also eine Art Strukturierung. Auf der
anderen Seite ist es m&ouml;glich, dass&#8201;&#8212;&#8201;wie bereits angesprochen&#8201;&#8212;&#8201;Redundanzen von Code vermieden werden k&ouml;nnen. Die Modularisierung darf
allerdings auch nicht au&szlig;en vorgelassen werden. Durch sie ist man in der
Lage einige Programmteile in anderen Programmen erneut zu nutzen.</p>
</div>
<div class="sect2">
<h3 id="_unterprogramme">10.1. Unterprogramme</h3>
<div class="paragraph">
<p>Unterprogramme k&ouml;nnen entweder direkt in ein jeweiliges Hauptprogramm
eingetragen werden oder sie werden als eigenst&auml;ndiges Programm definiert.</p>
</div>
<div class="paragraph">
<p><strong>Beispiel:</strong><br>
Die Berechnung eines Rechtecks soll in das Unterprogramm <em>rechteck</em>  ausgelagert werden.
Das Unterprogramm erhält dabei die Parameter Länge und Breite und gibt das Ergebnis zurück.<br></p>
</div>
<div class="paragraph">
<p>Definintion des Unterprogramms:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">FORM rechteck  USING VALUE(in_breite)
                     VALUE(in_laenge)
               CHANGING cn_flaeche.

	cn_flaeche = in_breite * in_laenge.
ENDFORM.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Der Name f&uuml;r das Unterprogramm selbst kann dabei frei gew&auml;hlt werden.
Die Typ der Parameter kann bei einfachen Typen weggelassen werden und entspricht damit dem Typ des Übergabeparameters aus dem Hauptprogramm.</p>
</div>
<div class="paragraph">
<p>Um im Hauptprogramm jetzt auf das Unterprogramm selbst zugreifen zu k&ouml;nnen
bzw. es auszuf&uuml;hren, existiert die <code>PERFORM</code>-Anweisung.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PERFORM rechteck  USING p_breite p_laenge
                	CHANGING gn_flaeche.
  WRITE:/ '1) Rechtecksberechnung',
        / 'Breite:',12(5) p_breite LEFT-JUSTIFIED,
        / 'Länge:', 12(5)  p_laenge LEFT-JUSTIFIED,
        / 'Ergebnis:', 12(6) gn_flaeche LEFT-JUSTIFIED.</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Erklärung:</strong><br>
Zum Datenaustausch existieren sogenannte
Schnittstellenparameter. Bei Unterprogrammen gibt es dabei Eingabeparameter
sowie sogenannte Ver&auml;nderungsparameter. Eingabeparameter dienen daf&uuml;r,
dass Daten an ein Unterprogramm &uuml;bergeben werden und dort diverse Aktionen
durchgef&uuml;hrt werden k&ouml;nnen.</p>
</div>
<div class="paragraph">
<p>Im Hauptprogramm wird &uuml;ber die <code>PARAMETERS</code>-Anweisung definiert, dass zwei
Benutzereingaben erwartet werden, <em>p_breite</em> und <em>p_laenge</em> . Es handelt sich dabei um zwei gepackte Zahlen mit zwei Dezimalstellen.</p>
</div>
<div class="paragraph">
<p>Sobald der <code>SELECTION-SCREEN</code> abgeschickt wurde, wird im Hauptprogramm
das Unterprogramm aufgerufen. &Uuml;ber den Zusatz <code>USING</code> werden dabei beide
Benutzereingaben an das Unterprogramm &uuml;bergeben. Wichtig an dieser Stelle
ist, dass diese beiden Parameter bei der Definition des Unterprogramms auch angegeben werden.</p>
</div>
<div class="paragraph">
<p>Hier taucht auch gleich eine wichtige Konvention auf. Die
Eingabeparameter bzw. Eingabefelder werden immer mit <code>iv</code>  bzw. <code>in</code> abgek&uuml;rzt. Das <code>i</code>
steht dabei f&uuml;r <code>IMPORTING</code>, also ein eingehender Parameter!</p>
</div>
<div class="paragraph">
<p>Im Unterprogramm wird dann die gewünschte Berechnung durchgeführt und auf den Ver&auml;nderungsparameter <code>CHANGING</code> cn_flaeche zugewiesen.
Das Ergebnis soll erst im Hauptprogramm ausgegeben werden.</p>
</div>
<div class="paragraph">
<p><span class="underline"><strong>Call by Value &amp; Call by Reference</strong></span><br>
Hierbei handelt es sich um ein technisches Konzept, welches bestimmt, ob man
mit Kopien von Daten arbeitet oder ob die Originaldaten im Zugriff sind.</p>
</div>
<div class="paragraph">
<p><strong>Call by Reference</strong> steht dabei f&uuml;r das Arbeiten mit Originaldaten. Es
handelt sich um den Standard, wie er bei jedem Report genutzt wird.
&Auml;nderungen an Daten, die dabei entweder &uuml;bergeben werden oder wieder
zur&uuml;ckgegeben werden sollten, werden auch vom Aufrufer wahrgenommen. Es
handelt sich also um die tats&auml;chliche Ver&auml;nderung von Daten.</p>
</div>
<div class="paragraph">
<p>Ganz anders l&auml;uft es allerdings innerhalb des <strong>Call by Value</strong>. Hier werden lediglich Werte &uuml;bergeben, also Kopien von Daten. Will man ein
Unterprogramm mit Kopien arbeiten lassen, so muss jeder Parameter, egal ob <code>USING</code> oder <code>CHANGING</code> mit dem Zusatz <code>VALUE</code> innerhalb der <code>FORM</code>-Deklaration
angegeben werden. Nachfolgendes Beispiel soll dabei die Funktionsweise von Call by Value erkl&auml;ren:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">DATA:
	ln_value TYPE i VALUE 1.

WRITE: 'Wert im Hauptprogramm:', ln_value.
perform sub_program USING ln_value.
WRITE: / 'Erneute Ausgabe im Hauptprogramm:', ln_value.

FORM sub_program
	USING
		VALUE(in_value) TYPE i.

	in_value = in_value + 1.
	WRITE: / 'Wert im Unterprogramm:', in_value.
ENDFORM.</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Call_by_Value.png" alt="Call by Value">
</div>
</div>
<div class="paragraph">
<p>Man sieht hier ganz sch&ouml;n, dass der Parameter innerhalb des Unterprogramms
ver&auml;ndert werden kann, ohne, dass es einen Einfluss auf das Hauptprogramm
hat. Bei Call by Reference sieht dies allerdings anders aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">FORM sub_program
	USING
		in_value TYPE i.

	in_value = in_value + 1.
	WRITE: / 'Wert im Unterprogramm:', in_value.
ENDFORM.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Es wird lediglich der Zusatz <code>VALUE</code> weggelassen und schon kommt es zu folgender
Ausgabe:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Call_by_Reference.png" alt="Call by Reference">
</div>
</div>
</div>
<div class="sect2">
<h3 id="_funktionsbausteine">10.2. Funktionsbausteine</h3>
<div class="paragraph">
<p>Funktionsbausteine verhalten sich &auml;hnlich wie Unterprogramme, nur mit dem
Unterschied, dass diese nicht Bestandteil eines Reports sind. Das hei&szlig;t
also, dass Quellcode au&szlig;erhalb eines Programms modularisiert wird und
somit von unterschiedlichen Reports wiederverwendet werden kann.
Funktionsbausteine werden organisatorisch immer zu sogenannten <code>Funktionsgruppen</code>
zugeordnet. &Auml;hnlich wie auch schon Unterprogramme, arbeiten
Funktionsbausteine mit Hilfe von Parametern:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="underline"><code>IMPORTING</code></span><br>
Hierbei handelt es sich um das Pendant zum <code>USING</code>-Parameter innerhalb von
Unterprogrammen. F&uuml;r die &Uuml;bergabe von Daten wird innerhalb eines
Funktionsbausteins diese Anweisung benutzt.</p>
</li>
<li>
<p><span class="underline"><code>EXPORTING</code></span><br>
Diese Anweisung wird benutzt, um von der Funktion Daten an den Aufrufer
zur&uuml;ckzugeben. Es handelt sich also um echte tats&auml;chliche R&uuml;ckgabewerte.</p>
</li>
<li>
<p><span class="underline"><code>CHANGING</code></span><br>
Die <code>CHANGING</code>-Anweisung beschreibt grundlegend sogenannte Ver&auml;nderungsparameter.
Diese Parameter werden also von einem Aufrufer an den Funktionsbaustein
&uuml;bergeben und am Ende mit vielleicht ver&auml;nderten Werten wieder an den
Aufrufer zur&uuml;ckgegeben. Ist identisch zu <code>Changing</code> innerhalb von Unterprogrammen.</p>
</li>
<li>
<p><span class="underline"><code>EXCEPTIONS</code></span><br>
Hierbei handelt es sich um sogenannte Ausnahmen. Im Endeffekt stellen sie
Fehlerzust&auml;nde dar, die innerhalb eines Funktionsbausteins auftreten k&ouml;nnen.
Diese Zust&auml;nde k&ouml;nnen dabei dem Aufrufer gemeldet werden und dieser
kann sich dann im Folgenden um die entsprechende Weiterverarbeitung k&uuml;mmern.
Im Aufrufer kann dabei der Fehler mit der Systemvariable <code>sy-subrc</code> abgefragt
werden.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Um das Prinzip der Funktionsbausteine n&auml;her zu verstehen, folgt hierzu
ein kleines Beispiel. Im ersten Schritt muss eine Funktionsgruppe f&uuml;r
einen Funktionsbaustein angelegt werden. &Uuml;ber das Kontextmen&uuml;
innerhalb der <strong>SE80</strong> kann dabei &uuml;ber das Men&uuml;
"<strong>Anlegen&#8594;Funktionsgruppe</strong>" eine erstellt werden:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Anlage_einer_Funktionsgruppe_ueber_das_Kontextmenue.png" alt="Anlage einer Funktionsgruppe ueber das Kontextmenue">
</div>
<div class="title">Abbildung 1. Anlage einer Funktionsgruppe &uuml;ber das Kontextmen&uuml;</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Eigenschaften_der_Funktionsgruppe.png" alt="Eigenschaften der Funktionsgruppe">
</div>
<div class="title">Abbildung 2. Eigenschaften der Funktionsgruppe</div>
</div>
<div class="paragraph">
<p>Nach der Eingabe eines Namens, einer Beschreibung und der Auswahl eines Pakets ist die Gruppe angelegt und man kann in ihr
&uuml;ber das Kontextmen&uuml; "<strong>Anlegen&#8594;Funktionsbaustein</strong>" den ersten FuBa anlegen!</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Eigenschaften_eines_Funktionsbausteins.png" alt="Eigenschaften eines Funktionsbausteins">
</div>
<div class="title">Abbildung 3. Eigenschaften eines Funktionsbausteins</div>
</div>
<div class="paragraph">
<p>&Uuml;ber die einzelnen Reiter muss jetzt definiert werden, was <code>IMPORTING</code>-, <code>EXPORTING</code>- und <code>CHANGING</code>-Parameter sind.
Weiterhin k&ouml;nnen auch noch die sogenannten <code>EXECPTIONS</code> angegeben werden:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Import_Parameter_des_Funktionsbausteins.png" alt="Import Parameter des Funktionsbausteins">
</div>
<div class="title">Abbildung 4. Import-Parameter des Funktionsbausteins</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Export_Parameter_des_Funktionsbausteins.png" alt="Export Parameter des Funktionsbausteins">
</div>
<div class="title">Abbildung 5. Export-Parameter des Funktionsbausteins</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Exceptions_des_Funktionsbausteins.png" alt="Exceptions des Funktionsbausteins">
</div>
<div class="title">Abbildung 6. Exceptions des Funktionsbausteins</div>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Coding_Implementierung_eines_Funktionsbausteins.png" alt="Coding Implementierung eines Funktionsbausteins">
</div>
<div class="title">Abbildung 7. Coding / Implementierung eines Funktionsbausteins</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
Funktionsbausteine k&ouml;nnen immer direkt aktiviert und auch getestet werden.<br>
<strong>Dazu F8 (Testen/Ausführen) wählen.</strong>
</td>
</tr>
</table>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Test1_FBS.png" alt="Test1 FBS">
</div>
<div class="title">Abbildung 8. Test eines FBS</div>
</div>
<div class="paragraph">
<p><strong>Ausführen wählen</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Test2_FBS.png" alt="Test2 FBS">
</div>
<div class="title">Abbildung 9. Test eines FBS mit Ergebnis</div>
</div>
<div class="paragraph">
<p><strong>Auch Ausnahmen lassen sich testen.</strong></p>
</div>
<div class="imageblock">
<div class="content">
<img src="./Bilder/Test3_FBS.png" alt="Test3 FBS">
</div>
<div class="title">Abbildung 10. Test eines FBS mit Ausnahme</div>
</div>
<div class="paragraph">
<p>Will man ihn allerdings innerhalb eines
Reports nutzen, so sieht das Ganze folgenderma&szlig;en aus:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-abap" data-lang="abap">PARAMETERS:
  gn_val1 TYPE i,
  gn_val2 TYPE i.
DATA:
  gn_result TYPE i.

CALL FUNCTION 'ZKOE2_U_FB_ADDITION'
  EXPORTING
    in_value1     = gn_val1
    in_value2     = gn_val2
  IMPORTING
    en_result     = gn_result
  EXCEPTIONS
    zero_addition = 1
    OTHERS        = 2.

CASE sy-subrc.
  WHEN 1.
    MESSAGE 'Beide Werte müssen größer Null sein' TYPE 'E'.
  WHEN '2'.
    MESSAGE 'Fehler beim FBS' TYPE 'E'.
ENDCASE.

WRITE: 'Ergebnis:', gn_result.</code></pre>
</div>
</div>
<div class="paragraph">
<p>Was hier auff&auml;llt ist, dass <code>IMPORTING</code> zu <code>EXPORTING</code> und <code>EXPORTING</code> zu <code>IMPORTING</code> wird.<br>
Im Endeffekt kann man das
Prinzip so verstehen: Da ein Programm einen Funktionsbaustein aufruft, sollten hier auch Parameter &uuml;bergeben werden.
Diese Daten werden also an den Funktionsbaustein exportiert. Da man nat&uuml;rlich auch erwartet, vom Funktionsbaustein
wieder Daten zu empfangen, importiert der Funktionsbausteine auch welche an den Aufrufer. Auch die <code>EXCEPTIONS</code> k&ouml;nnen
hier behandelt werden. Die Nummern stehen dabei f&uuml;r die Werte, die die Systemvariable <code>sy-subrc</code> annehmen kann.</p>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-09-02 09:52:48 +0200
</div>
</div>
</body>
</html>